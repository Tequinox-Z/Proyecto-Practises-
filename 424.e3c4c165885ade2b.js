"use strict";(self.webpackChunkPractises_Management=self.webpackChunkPractises_Management||[]).push([[424],{8424:(y,g,o)=>{o.r(g),o.d(g,{DegreesModule:()=>T});var c=o(9808),d=o(8118),l=o(5226),p=o.n(l),e=o(1223),m=o(8212),a=o(2340),h=o(3958),u=o(5295),f=o(520);let v=(()=>{class t{constructor(n,i,s){this.userService=n,this.authService=i,this.http=s}getDegreesByYear(n,i){return this.http.get(a.N.serverAddress+"/school/"+n.id+"/degree?year="+i,this.authService.getHeadersToken())}deleteDegree(n,i){return this.http.delete(a.N.serverAddress+"/school/"+n.id+"/degree/"+i,this.authService.getHeadersToken())}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(h.K),e.LFG(u.e),e.LFG(f.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var x=o(9207);function C(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"img",12),e.NdJ("click",function(){e.CHM(n);const s=e.oxw().$implicit;return e.oxw(2).deleteDegree(s.id)}),e.qZA()}}function M(t,r){if(1&t&&(e.TgZ(0,"div",9),e._UZ(1,"img",10),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.YNc(4,C,1,0,"img",11),e.qZA()),2&t){const n=r.$implicit,i=e.oxw(2);e.s9C("id",n.id),e.xp6(1),e.s9C("src",n.image,e.LSH),e.xp6(2),e.Oqu(n.name),e.xp6(1),e.Q6J("ngIf",i.editMode)}}const D=function(t){return{animatedTx:t}};function O(t,r){if(1&t&&(e.TgZ(0,"div",7),e.YNc(1,M,5,4,"div",8),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngClass",e.VKq(2,D,n.editMode)),e.xp6(1),e.Q6J("ngForOf",n.degrees)}}function _(t,r){1&t&&(e.TgZ(0,"div",13),e._UZ(1,"img",14),e.TgZ(2,"p"),e._uU(3,"Sin ciclos"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"Aqu\xed se mostrar\xe1n los ciclos de los que dispone su centro"),e.qZA(),e.qZA())}const P=[{path:"degrees",component:(()=>{class t{constructor(n,i,s){this.dashboardSrv=n,this.degreeSvr=i,this.centerSvr=s,this.editMode=!1}ngOnInit(){this.dashboardSrv.setTitle("Ciclos"),this.centerSvr.getCenterOfAdministrator().subscribe({next:n=>{this.school=n,this.yearSelected=(new Date).getFullYear().toString(),this.degreeSvr.getDegreesByYear(n,this.yearSelected).subscribe({next:i=>{this.degrees=i},error:()=>{}})},error:()=>{}})}deleteDegree(n){p().fire({title:"\xbfEst\xe1s seguro?",text:"Se borrar\xe1n todas las matriculaciones y pr\xe1cticas",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"Cancelar",confirmButtonText:"Borrar"}).then(i=>{i.isConfirmed&&this.degreeSvr.deleteDegree(this.school,n).subscribe({next:()=>{console.log("Hecho")}})})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.s),e.Y36(v),e.Y36(x.F))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-degrees"]],decls:11,vars:3,consts:[["id","mainDiv"],["id","title"],["id","actions"],["src","assets/img/edit.png","id","edit","title","Modo Edici\xf3n","alt","Modo Edici\xf3n",1,"icon-action",3,"click"],["src","assets/img/add-icon.png","title","Nuevo ciclo","alt","Nuevo ciclo",1,"icon-action"],["id","degrees",3,"ngClass",4,"ngIf"],["id","no-degrees",4,"ngIf"],["id","degrees",3,"ngClass"],["class","degree",3,"id",4,"ngFor","ngForOf"],[1,"degree",3,"id"],[3,"src"],["src","assets/img/delete.png","class","deleteIconDegree",3,"click",4,"ngIf"],["src","assets/img/delete.png",1,"deleteIconDegree",3,"click"],["id","no-degrees"],["src","assets/img/no-degrees.png"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p"),e._uU(3,"Ciclos del centro"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.TgZ(6,"div",2),e.TgZ(7,"img",3),e.NdJ("click",function(){return i.editMode=!i.editMode}),e.qZA(),e._UZ(8,"img",4),e.qZA(),e.qZA(),e.YNc(9,O,2,4,"div",5),e.YNc(10,_,6,0,"div",6),e.qZA()),2&n&&(e.xp6(5),e.hij("Mostrando ciclos del a\xf1o ",i.yearSelected,""),e.xp6(4),e.Q6J("ngIf",0!=i.degrees.length),e.xp6(1),e.Q6J("ngIf",!i.degrees||0==i.degrees.length))},directives:[c.O5,c.mk,c.sg],styles:["#mainDiv[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}#title[_ngcontent-%COMP%]{margin-top:40px;height:93px;width:100%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:4%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){font-size:20px;font-weight:600}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){opacity:.7}#no-degrees[_ngcontent-%COMP%]{display:flex;height:60%;width:100%;justify-content:center;align-items:center;flex-direction:column}#no-degrees[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:270px;width:80%}#no-degrees[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-size:20px;margin-top:6px;margin-bottom:6px}#no-degrees[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){max-width:300px;opacity:.7;text-align:center;width:90%}.icon-action[_ngcontent-%COMP%]{width:20px}#edit[_ngcontent-%COMP%]{margin-right:13px}#actions[_ngcontent-%COMP%]{position:absolute;top:51px;right:0;margin-right:4%}.deleteIconDegree[_ngcontent-%COMP%]{width:20px;position:absolute;bottom:9px;right:8px;height:max-content!important}#degrees[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}.degree[_ngcontent-%COMP%]{margin:6px;position:relative;border-radius:5px;box-shadow:0 4px 5px #9f9f9f;width:210px;background-color:#f2f2f2;height:135px;display:flex;justify-content:flex-start;padding-top:20px;overflow:hidden;align-items:center;flex-direction:column}.degree[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:60px}.degree[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:16px}.animatedTx[_ngcontent-%COMP%]   .degree[_ngcontent-%COMP%]{animation-name:miedo;animation-duration:.2s;animation-iteration-count:infinite}@keyframes miedo{0%{transform:rotate(0)}25%{transform:rotate(1deg)}50%{transform:rotate(0)}75%{transform:rotate(-1deg)}to{transform:rotate(0)}}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.Bz.forChild(P)],d.Bz]}),t})(),T=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.ez,Z]]}),t})()}}]);