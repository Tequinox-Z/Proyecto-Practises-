"use strict";(self.webpackChunkPractises_Management=self.webpackChunkPractises_Management||[]).push([[508],{3508:(y,C,g)=>{g.r(C),g.d(C,{DegreesModule:()=>Je});var p=g(9808),d=g(1451),T=g(5226),a=g.n(T),m=g(2340),e=g(1223),O=g(8212),u=g(3958),f=g(5295),_=g(520);let l=(()=>{class n{constructor(t,i,r){this.userService=t,this.authService=i,this.http=r}getDegreesByYear(t,i){return this.http.get(m.N.serverAddress+"/school/"+t.id+"/degree?year="+i,this.authService.getHeadersToken())}deleteDegree(t,i){return this.http.delete(m.N.serverAddress+"/school/"+t.id+"/degree/"+i,this.authService.getHeadersToken())}getYears(t){return this.http.get(m.N.serverAddress+"/school/"+t.id+"/degree-years",this.authService.getHeadersToken())}getDegree(t,i){return this.http.get(m.N.serverAddress+"/degree/"+i,this.authService.getHeadersToken())}getByDegreeOnly(t){return this.http.get(m.N.serverAddress+"/degree/"+t,this.authService.getHeadersToken())}updateDegree(t,i){return this.http.put(m.N.serverAddress+"/school/"+t.id+"/degree/"+i.id,i,this.authService.getHeadersToken())}addDegree(t){let i={image:"https://i.pinimg.com/originals/c2/4b/11/c24b1132d7cb060da9738c28a83ec6c4.png"};return i.year=(new Date).getFullYear(),i.name="Nuevo ciclo",this.http.post(m.N.serverAddress+"/school/"+t.id+"/degree",i,this.authService.getHeadersToken())}getBusinessFromDegree(t){return this.http.get(m.N.serverAddress+"/degree/"+t.id+"/business",this.authService.getHeadersToken())}getTeachersFromDegree(t){return this.http.get(m.N.serverAddress+"/degree/"+t.id+"/teacher",this.authService.getHeadersToken())}getStudentsFromDegree(t){return this.http.get(m.N.serverAddress+"/degree/"+t.id+"/enrollment",this.authService.getHeadersToken())}quitFromDegree(t,i){return this.http.delete(m.N.serverAddress+"/degree/"+t.id+"/business/"+i,this.authService.getHeadersToken())}quitTeacherFromDegree(t,i){return this.http.delete(m.N.serverAddress+"/degree/"+t.id+"/teacher/"+i,this.authService.getHeadersToken())}addBusiness(t,i){let r={};return r.cif=i,this.http.post(m.N.serverAddress+"/degree/"+t.id+"/business/",r,this.authService.getHeadersToken())}quitEnrollmentFromDegree(t,i){return this.http.delete(m.N.serverAddress+"/degree/"+t.id+"/enrollment/"+i,this.authService.getHeadersToken())}addTeacherToDegree(t,i){let r={};return r.dni=i,this.http.post(m.N.serverAddress+"/degree/"+t.id+"/teacher/",r,this.authService.getHeadersToken())}addStudentToDegree(t,i){let r={};return r.date=new Date,r.dniStudent=i,this.http.post(m.N.serverAddress+"/degree/"+t.id+"/enrollment/",r,this.authService.getHeadersToken())}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(u.K),e.LFG(f.e),e.LFG(_.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var v=g(9207),D=g(9976);function F(n,s){if(1&n&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Oqu(t)}}function N(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"select",8),e.NdJ("change",function(r){return e.CHM(t),e.oxw().changeYear(r)}),e.YNc(1,F,2,1,"option",9),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.years.years)}}function k(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-file-upload",17),e.NdJ("fileName",function(r){e.CHM(t);const o=e.oxw().$implicit;return e.oxw(2).changeImage(r,o.id)}),e.qZA()}}function I(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"img",18),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(2).deleteDegree(r.id)}),e.qZA()}}function B(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw(2).goTo(o.id)}),e._UZ(1,"img",13),e.YNc(2,k,1,0,"app-file-upload",14),e.TgZ(3,"p",15),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw(2).changeName(o.id)}),e._uU(4),e.qZA(),e.YNc(5,I,1,0,"img",16),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.s9C("id",t.id),e.xp6(1),e.s9C("src",t.image,e.LSH),e.xp6(1),e.Q6J("ngIf",i.editMode),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",i.editMode)}}const Y=function(n){return{animatedTx:n}};function J(n,s){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,B,6,5,"div",11),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,Y,t.editMode)),e.xp6(1),e.Q6J("ngForOf",t.degrees)}}function U(n,s){1&n&&(e.TgZ(0,"div",19),e._UZ(1,"img",20),e.TgZ(2,"p"),e._uU(3,"Sin ciclos"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"Aqu\xed se mostrar\xe1n los ciclos de los que dispone su centro"),e.qZA(),e.qZA())}let Q=(()=>{class n{constructor(t,i,r,o,c){this.dashboardSrv=t,this.degreeSvr=i,this.centerSvr=r,this.router=o,this.route=c,this.editMode=!1}ngOnInit(){this.dashboardSrv.setTitle("Ciclos"),this.loadDegrees((new Date).getFullYear())}deleteDegree(t){a().fire({title:"\xbfEst\xe1s seguro?",text:"Se borrar\xe1n todas las matriculaciones y pr\xe1cticas",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonText:"Cancelar",confirmButtonText:"Borrar"}).then(i=>{if(i.isConfirmed){let r=this.degreeSvr.deleteDegree(this.school,t).subscribe({next:()=>{r.unsubscribe(),this.loadDegrees((new Date).getFullYear())}})}})}changeYear(t){this.loadDegrees(parseInt(t.target.value))}loadDegrees(t){let i=this.centerSvr.getCenterOfAdministrator().subscribe({next:r=>{i.unsubscribe();let o=this.degreeSvr.getYears(r).subscribe({next:h=>{o.unsubscribe(),this.years=h,this.years.years.reverse()}});this.school=r;let c=this.degreeSvr.getDegreesByYear(r,t.toString()).subscribe({next:h=>{c.unsubscribe(),this.degrees=h},error:h=>{c.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:h.error.mensaje})}})},error:r=>{i.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}})}addDegree(){let t=this.degreeSvr.addDegree(this.school).subscribe({next:()=>{t.unsubscribe(),this.loadDegrees((new Date).getFullYear())}})}changeImage(t,i){let r=this.degreeSvr.getDegree(this.school,i).subscribe({next:o=>{r.unsubscribe(),o.image=m.N.serverFileAddress+"/files/"+t;let c=this.degreeSvr.updateDegree(this.school,o).subscribe({next:()=>{c.unsubscribe(),this.loadDegrees((new Date).getFullYear())},error:h=>{c.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:h.error.mensaje})}})}})}goTo(t){this.editMode||this.router.navigate(["view/"+t],{relativeTo:this.route})}changeName(t){this.editMode&&a().fire({title:"Indique nuevo nombre",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonText:"Cambiar",showLoaderOnConfirm:!0,preConfirm:i=>{if(0==i.trim().length)this.changeName(t);else{let r=this.degreeSvr.getDegree(this.school,t).subscribe({next:o=>{r.unsubscribe(),o.name=i;let c=this.degreeSvr.updateDegree(this.school,o).subscribe({next:()=>{c.unsubscribe(),this.loadDegrees((new Date).getFullYear())},error:h=>{c.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:h.error.mensaje})}})}})}},allowOutsideClick:()=>!a().isLoading()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(l),e.Y36(v.F),e.Y36(d.F0),e.Y36(d.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-degrees"]],decls:12,vars:4,consts:[["id","mainDiv",1,"inNewIntro"],["id","title"],["id","actions"],["src","assets/img/edit.png","id","edit","title","Modo Edici\xf3n","alt","Modo Edici\xf3n",1,"icon-action",3,"click"],["src","assets/img/add-icon.png","title","Nuevo ciclo","alt","Nuevo ciclo",1,"icon-action",3,"click"],["id","yearInput","name","select",3,"change",4,"ngIf"],["id","degrees",3,"ngClass",4,"ngIf"],["id","no-degrees",4,"ngIf"],["id","yearInput","name","select",3,"change"],[4,"ngFor","ngForOf"],["id","degrees",3,"ngClass"],["class","degree",3,"id","click",4,"ngFor","ngForOf"],[1,"degree",3,"id","click"],[3,"src"],["class","fileUp",3,"fileName",4,"ngIf"],[3,"click"],["src","assets/img/delete.png","class","deleteIconDegree",3,"click",4,"ngIf"],[1,"fileUp",3,"fileName"],["src","assets/img/delete.png",1,"deleteIconDegree",3,"click"],["id","no-degrees"],["src","assets/img/no-degrees.png"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p"),e._uU(3,"Ciclos del centro"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.TgZ(6,"div",2),e.TgZ(7,"img",3),e.NdJ("click",function(){return i.editMode=!i.editMode}),e.qZA(),e.TgZ(8,"img",4),e.NdJ("click",function(){return i.addDegree()}),e.qZA(),e.YNc(9,N,2,1,"select",5),e.qZA(),e.qZA(),e.YNc(10,J,2,4,"div",6),e.YNc(11,U,6,0,"div",7),e.qZA()),2&t&&(e.xp6(5),e.hij("Mostrando ciclos del a\xf1o ",i.yearSelected,""),e.xp6(4),e.Q6J("ngIf",i.years&&0!=i.years.years.length),e.xp6(1),e.Q6J("ngIf",i.degrees&&0!=i.degrees.length),e.xp6(1),e.Q6J("ngIf",!i.degrees||0==i.degrees.length))},directives:[p.O5,p.sg,p.mk,D.Y],styles:["#mainDiv[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}#title[_ngcontent-%COMP%]{margin-top:40px;height:93px;width:100%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:4%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){font-size:20px;font-weight:600}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){opacity:.7}#no-degrees[_ngcontent-%COMP%]{display:flex;height:60%;width:100%;justify-content:center;align-items:center;flex-direction:column}#no-degrees[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:270px;width:80%}#no-degrees[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-size:20px;margin-top:6px;margin-bottom:6px}#no-degrees[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){max-width:300px;opacity:.7;text-align:center;width:90%}.icon-action[_ngcontent-%COMP%]{width:20px}#edit[_ngcontent-%COMP%]{margin-right:13px}#actions[_ngcontent-%COMP%]{position:absolute;top:15px;right:0;margin-right:4%}.deleteIconDegree[_ngcontent-%COMP%]{width:20px;position:absolute;bottom:9px;right:8px;height:max-content!important}#degrees[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}.degree[_ngcontent-%COMP%]{margin:6px;position:relative;border-radius:5px;box-shadow:0 4px 5px #9f9f9f;width:210px;background-color:#f2f2f2;height:135px;display:flex;justify-content:flex-start;padding-top:20px;overflow:hidden;align-items:center;flex-direction:column}#actions[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{position:relative;top:-4px;margin-left:10px}.degree[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:60px}.degree[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:16px}.animatedTx[_ngcontent-%COMP%]   .degree[_ngcontent-%COMP%]{animation-name:miedo;animation-duration:.2s;animation-iteration-count:infinite}@keyframes miedo{0%{transform:rotate(0)}25%{transform:rotate(1deg)}50%{transform:rotate(0)}75%{transform:rotate(-1deg)}to{transform:rotate(0)}}@media (max-width: 400px){#actions[_ngcontent-%COMP%]{position:absolute;bottom:10px;top:unset}}.fileUp[_ngcontent-%COMP%]{position:absolute;top:0;width:150%;height:90px;left:30%;opacity:0}#yearInput[_ngcontent-%COMP%]{width:100px;border:none;height:30px;background-color:#ececec}#title[_ngcontent-%COMP%]{position:relative}"]}),n})(),b=(()=>{class n{constructor(t,i){this.http=t,this.authService=i}getAllStudents(){return this.http.get(m.N.serverAddress+"/student/",this.authService.getHeadersToken())}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(_.eN),e.LFG(f.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var M=g(2864),w=g(2360);function H(n,s){1&n&&(e.TgZ(0,"p",4),e._uU(1,"Sin estudiantes. Agrege antes alg\xfan estudiante"),e.qZA())}function E(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw().select(o.dni)}),e._UZ(1,"img",6),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.qZA()}if(2&n){const t=s.$implicit;e.xp6(1),e.s9C("src",t.image,e.LSH),e.xp6(2),e.Oqu(t.name)}}let Z=(()=>{class n{constructor(t){this.studentSrv=t,this.dni=new e.vpe}ngOnInit(){let t=this.studentSrv.getAllStudents().subscribe({next:i=>{t.unsubscribe(),this.students=i}})}select(t){this.dni.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-select-student"]],outputs:{dni:"dni"},decls:6,vars:2,consts:[["id","businessDiv"],["id","businessDivs"],["id","noContent",4,"ngIf"],["class","business",3,"click",4,"ngFor","ngForOf"],["id","noContent"],[1,"business",3,"click"],[3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"p"),e._uU(2,"Seleccione estudiante"),e.qZA(),e.TgZ(3,"div",1),e.YNc(4,H,2,0,"p",2),e.YNc(5,E,4,2,"div",3),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngIf",i.students&&0==i.students.length),e.xp6(1),e.Q6J("ngForOf",i.students))},directives:[p.O5,p.sg],styles:["#businessDiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){font-size:20px;margin-top:29px;margin-left:30px}#businessDiv[_ngcontent-%COMP%]{height:94%}#businessDivs[_ngcontent-%COMP%]{margin-top:10px;height:92%;overflow:auto}.business[_ngcontent-%COMP%]{height:66px;width:100%;display:flex;flex-direction:row;flex-wrap:wrap;align-content:center;align-items:center;transition:.2s;padding-left:12%}.business[_ngcontent-%COMP%]:hover{background-color:#dfdfdf}.business[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){margin-left:20px}.business[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:nth-child(1){width:56px;height:39px}#noContent[_ngcontent-%COMP%]{text-align:center;margin-top:38%}"]}),n})();function z(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).selectBusiness=!0}),e.TgZ(1,"div",19),e._UZ(2,"img",20),e.qZA(),e.TgZ(3,"p"),e._uU(4,"+ A\xf1adir"),e.qZA(),e.qZA()}}function j(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw(2).viewBusiness(o.cif)}),e.TgZ(1,"div",19),e._UZ(2,"img",21),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.qZA()}if(2&n){const t=s.$implicit;e.xp6(2),e.s9C("src",t.image,e.LSH),e.xp6(2),e.Oqu(t.name)}}function V(n,s){if(1&n&&(e.TgZ(0,"div",22),e.TgZ(1,"div",23),e.TgZ(2,"p",24),e._uU(3),e.qZA(),e.TgZ(4,"p",25),e._uU(5),e.qZA(),e.qZA(),e._UZ(6,"p"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.Oqu(t.currentDegree&&(null==t.currentDegree.businesses?null:t.currentDegree.businesses.length)),e.xp6(2),e.hij("",t.isAdmin?"Gestionar":"Ver"," todas")}}function L(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"img",30),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(2).quitStudent(r.id)}),e.qZA()}}function $(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",26),e.TgZ(1,"img",27),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw(2).viewPerson(o.student.dni)}),e.qZA(),e.TgZ(2,"p",28),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw(2).viewPractise(o.id)}),e._uU(3),e.qZA(),e.YNc(4,L,1,0,"img",29),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.xp6(1),e.s9C("src",null==t.student?null:t.student.image,e.LSH),e.xp6(1),e.hYB("title","",t.student.name," ",t.student.lastName,""),e.xp6(1),e.Oqu(t.student.name),e.xp6(1),e.Q6J("ngIf",i.isAdmin)}}function K(n,s){1&n&&(e.TgZ(0,"p",31),e._uU(1,"No hay matriculaciones"),e.qZA())}function X(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"p",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).selectStudent=!0}),e._uU(1,"+ A\xf1adir"),e.qZA()}}function G(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"img",30),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(3).quitTeacher(r.dni)}),e.qZA()}}function R(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",26),e.TgZ(1,"img",27),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw(3).viewPerson(o.dni)}),e.qZA(),e.TgZ(2,"p",34),e._uU(3),e.qZA(),e.YNc(4,G,1,0,"img",29),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw(3);e.xp6(1),e.s9C("src",t.image,e.LSH),e.xp6(1),e.hYB("title","",t.name," ",t.lastName,""),e.xp6(1),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",i.isAdmin)}}function W(n,s){1&n&&(e.TgZ(0,"p",31),e._uU(1,"No hay profesores"),e.qZA())}function ee(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"p",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).selectTeacher=!0}),e._uU(1,"+ A\xf1adir"),e.qZA()}}function te(n,s){if(1&n&&(e.TgZ(0,"div",11),e.TgZ(1,"p"),e._uU(2,"Profesores"),e.qZA(),e.YNc(3,R,5,5,"div",12),e._UZ(4,"img",33),e.YNc(5,W,2,0,"p",14),e.YNc(6,ee,2,0,"p",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.currentDegree.teachers.slice(0,4)),e.xp6(2),e.Q6J("ngIf",t.currentDegree.teachers&&0==(null==t.currentDegree.teachers?null:t.currentDegree.teachers.length)),e.xp6(1),e.Q6J("ngIf",t.isAdmin)}}function ne(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-select-business",38),e.NdJ("cif",function(r){return e.CHM(t),e.oxw(3).addBusiness(r)}),e.qZA()}}function ie(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-select-teacher",39),e.NdJ("dni",function(r){return e.CHM(t),e.oxw(3).addTeacher(r)}),e.qZA()}}function re(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-select-student",39),e.NdJ("dni",function(r){return e.CHM(t),e.oxw(3).addStudent(r)}),e.qZA()}}function se(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",35),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).closeAll()}),e.YNc(1,ne,1,0,"app-select-business",36),e.YNc(2,ie,1,0,"app-select-teacher",37),e.YNc(3,re,1,0,"app-select-student",37),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.selectBusiness),e.xp6(1),e.Q6J("ngIf",t.selectTeacher),e.xp6(1),e.Q6J("ngIf",t.selectStudent)}}function oe(n,s){if(1&n&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"p"),e.TgZ(3,"span",3),e._uU(4,"Ciclos > "),e.qZA(),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"p",4),e._uU(7,"Empresas"),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"div",6),e.YNc(10,z,5,0,"div",7),e.YNc(11,j,5,2,"div",8),e.YNc(12,V,7,2,"div",9),e.qZA(),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e.TgZ(15,"p"),e._uU(16,"Alumnos"),e.qZA(),e.YNc(17,$,5,5,"div",12),e._UZ(18,"img",13),e.YNc(19,K,2,0,"p",14),e.YNc(20,X,2,0,"p",15),e.qZA(),e.YNc(21,te,7,3,"div",16),e.qZA(),e.qZA(),e.YNc(22,se,4,3,"div",17),e.qZA()),2&n){const t=e.oxw();e.xp6(5),e.hij(" ",t.currentDegree.name,""),e.xp6(5),e.Q6J("ngIf",t.isAdmin),e.xp6(1),e.Q6J("ngForOf",t.currentDegree.businesses.slice(0,5)),e.xp6(1),e.Q6J("ngIf",t.currentDegree&&0!=(null==t.currentDegree.businesses?null:t.currentDegree.businesses.length)),e.xp6(5),e.Q6J("ngForOf",t.currentDegree.enrollments.slice(0,4)),e.xp6(2),e.Q6J("ngIf",t.currentDegree.enrollments&&0==(null==t.currentDegree.enrollments?null:t.currentDegree.enrollments.length)),e.xp6(1),e.Q6J("ngIf",t.isAdmin),e.xp6(1),e.Q6J("ngIf",t.currentDegree&&t.currentDegree.teachers),e.xp6(1),e.Q6J("ngIf",t.selectBusiness||t.selectStudent||t.selectTeacher)}}let P=(()=>{class n{constructor(t,i,r,o,c){this.rutaActiva=t,this.degreeSrv=i,this.router=r,this.studentService=o,this.userSrv=c,this.selectBusiness=!1,this.selectTeacher=!1,this.selectStudent=!1,this.isAdmin=!1}ngOnInit(){var t,i;"ROLE_ADMIN"==(null===(i=null===(t=this.userSrv.getPerson())||void 0===t?void 0:t.rol)||void 0===i?void 0:i.toString())&&(this.isAdmin=!0),this.loadDegree()}quitTeacher(t){a().fire({title:"\xbfQuitar profesor?",text:"El profesor no podr\xe1 ver el ciclo",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Quitar"}).then(i=>{if(i.isConfirmed){let r=this.degreeSrv.quitTeacherFromDegree(this.currentDegree,t).subscribe({next:()=>{r.unsubscribe(),this.loadDegree()},error:o=>{r.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:o.error.mensaje})}})}})}loadDegree(){let i=this.degreeSrv.getByDegreeOnly(this.rutaActiva.snapshot.params.idDegree).subscribe({next:r=>{i.unsubscribe(),this.currentDegree=r;let o=this.degreeSrv.getBusinessFromDegree(r).subscribe({next:x=>{o.unsubscribe(),this.currentDegree.businesses=x},error:x=>{o.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:x.error.mensaje})}}),c=this.degreeSrv.getTeachersFromDegree(r).subscribe({next:x=>{c.unsubscribe(),this.currentDegree.teachers=x},error:x=>{c.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:x.error.mensaje})}}),h=this.degreeSrv.getStudentsFromDegree(r).subscribe({next:x=>{h.unsubscribe(),this.currentDegree.enrollments=x},error:x=>{h.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:x.error.mensaje})}})},error:()=>{this.router.navigate(["../../degrees"],{relativeTo:this.rutaActiva})}})}quitStudent(t){a().fire({title:"\xbfDesmatricular alumno?",text:"Se borrar\xe1n los datos de sus pr\xe1cticas",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Quitar"}).then(i=>{if(i.isConfirmed){let r=this.degreeSrv.quitEnrollmentFromDegree(this.currentDegree,t).subscribe({next:()=>{r.unsubscribe(),this.loadDegree()},error:o=>{r.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:o.error.mensaje})}})}})}addBusiness(t){this.selectBusiness=!1;let i=this.degreeSrv.addBusiness(this.currentDegree,t).subscribe({next:()=>{i.unsubscribe(),this.loadDegree()},error:r=>{i.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}})}addTeacher(t){this.selectTeacher=!1;let i=this.degreeSrv.addTeacherToDegree(this.currentDegree,t).subscribe({next:()=>{i.unsubscribe(),this.loadDegree()},error:r=>{i.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}})}addStudent(t){this.selectStudent=!1;let i=this.degreeSrv.addStudentToDegree(this.currentDegree,t).subscribe({next:()=>{i.unsubscribe(),this.loadDegree()},error:r=>{i.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}})}closeAll(){this.selectBusiness=!1,this.selectStudent=!1,this.selectTeacher=!1}viewPractise(t){this.router.navigateByUrl("/dashboard/practise/view/"+t)}viewBusiness(t){this.router.navigateByUrl("/dashboard/business/search-business/edit/"+t)}viewPerson(t){this.router.navigateByUrl("/dashboard/person/management/"+t+"/edit")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(l),e.Y36(d.F0),e.Y36(b),e.Y36(u.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-degree"]],decls:1,vars:1,consts:[["id","mainDiv","class","inNewIntro",4,"ngIf"],["id","mainDiv",1,"inNewIntro"],["id","title"],["id","degreesText","routerLink","../../"],["id","businessTitle"],["id","centerZoneView"],["id","businessZone"],["class","businessOption",3,"click",4,"ngIf"],["class","businessOption",3,"click",4,"ngFor","ngForOf"],["class","businessOption",4,"ngIf"],["id","peopleZone"],[1,"peopleZoneDiv"],["class","teacherOption",4,"ngFor","ngForOf"],["src","assets/img/view.png","routerLink","./student","alt","Ver todos","title","Ver todos",1,"viewOption"],["class","textNot",4,"ngIf"],["class","addButton",3,"click",4,"ngIf"],["class","peopleZoneDiv",4,"ngIf"],["id","modal-zone",3,"click",4,"ngIf"],[1,"businessOption",3,"click"],["id","addOptionBusiness",1,"imageOption"],["src","assets/img/add.png","id","addImage"],[1,"imgOption",3,"src"],[1,"businessOption"],[1,"imageOption"],["id","numberBusiness"],["routerLink","./business","id","gestAll"],[1,"teacherOption"],[3,"src","click"],[3,"title","click"],["src","assets/img/delete.png","title","Quitar","alt","Quitar",3,"click",4,"ngIf"],["src","assets/img/delete.png","title","Quitar","alt","Quitar",3,"click"],[1,"textNot"],[1,"addButton",3,"click"],["src","assets/img/view.png","routerLink","./teacher","alt","Ver todos","title","Ver todos",1,"viewOption"],[3,"title"],["id","modal-zone",3,"click"],["class","selectModal",3,"cif",4,"ngIf"],["class","selectModal",3,"dni",4,"ngIf"],[1,"selectModal",3,"cif"],[1,"selectModal",3,"dni"]],template:function(t,i){1&t&&e.YNc(0,oe,23,9,"div",0),2&t&&e.Q6J("ngIf",i.currentDegree&&i.currentDegree.enrollments)},directives:[p.O5,d.rH,p.sg,M.B,w.A,Z],styles:["#mainDiv[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}#title[_ngcontent-%COMP%]{margin-top:40px;height:60px;width:100%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:4%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){font-size:20px;font-weight:600}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){opacity:.7}#degreesText[_ngcontent-%COMP%]{opacity:.7}#businessTitle[_ngcontent-%COMP%]{font-size:20px;margin-left:4%}#centerZoneView[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;display:flex;width:100%}.businessOption[_ngcontent-%COMP%]{width:144px;height:150px;display:flex;justify-content:center;align-items:center;flex-direction:column}.imageOption[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-direction:column;justify-content:center;align-items:center;height:60%;width:100%}#addOptionBusiness[_ngcontent-%COMP%]{box-shadow:0 5px 5px #e0e0e0;background-color:#eee}.businessOption[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:10px}#addImage[_ngcontent-%COMP%]{width:40px}#businessZone[_ngcontent-%COMP%]{flex-wrap:wrap;width:100%;gap:30px;display:flex;margin-top:20px;margin-bottom:20px;justify-content:center;align-content:center;padding-left:20px;padding-right:20px}#peopleZone[_ngcontent-%COMP%]{width:100%;display:flex;gap:50px;flex-wrap:wrap;justify-content:center;align-items:center;margin-bottom:40px}.peopleZoneDiv[_ngcontent-%COMP%]{box-shadow:0 5px 5px #c7c7c7;background-color:#eee;width:90%;max-width:295px;height:300px;position:relative}.peopleZoneDiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){margin-top:23px;margin-left:30px;margin-bottom:10px}.peopleZoneDiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){width:100%;text-align:center}#gestAll[_ngcontent-%COMP%]{text-align:center;width:70px;font-weight:600}#numberBusiness[_ngcontent-%COMP%]{margin-bottom:16px;font-size:25px;font-weight:600}.imgOption[_ngcontent-%COMP%]{width:150%}.textNot[_ngcontent-%COMP%]{position:absolute;top:45%;width:100%;text-align:center}.viewOption[_ngcontent-%COMP%]{width:18px;position:absolute;top:25px;right:26px}#gestAll[_ngcontent-%COMP%]{transition:.1s}#gestAll[_ngcontent-%COMP%]:hover{color:#595959}.teacherOption[_ngcontent-%COMP%]{border-bottom:1px solid #d6d6d6;width:90%;height:50px;margin-left:5%;display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;align-items:center}.teacherOption[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(1){height:30px;border-radius:50%;width:30px;margin-left:14px}.teacherOption[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(3){width:18px;position:absolute;right:26px;height:18px}.teacherOption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){margin-left:12px}.selectModal[_ngcontent-%COMP%]{width:90%;background-color:#f2f2f2;height:500px;box-shadow:0 5px 5px gray;max-width:400px}#modal-zone[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;background-color:#00000072;justify-content:center;align-items:center;top:0}#modal-zone[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{transition:1s;animation-name:introSlow;animation-duration:.2s}@keyframes introSlow{0%{opacity:0;transform:scale(.7)}to{transform:scale(1);opacity:1}}.addButton[_ngcontent-%COMP%]{position:absolute;bottom:10px;width:100%;text-align:center}"]}),n})();function ce(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"img",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return r.editMode=!r.editMode}),e.qZA()}}function de(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.TgZ(1,"div",14),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).selectBusiness=!0}),e._UZ(2,"img",15),e.qZA(),e.TgZ(3,"p"),e._uU(4,"A\xf1adir"),e.qZA(),e.qZA()}}function ae(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"img",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(2).quitBusiness(r.cif)}),e.qZA()}}const ge=function(n){return{animatedTx:n}};function le(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",16),e.TgZ(1,"div",14),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw(2).viewBusiness(o.cif)}),e._UZ(2,"img",17),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.YNc(5,ae,1,0,"img",18),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.Q6J("ngClass",e.VKq(4,ge,i.editMode)),e.xp6(2),e.s9C("src",t.image,e.LSH),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",i.editMode)}}function pe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-select-business",22),e.NdJ("cif",function(r){return e.CHM(t),e.oxw(3).addBusiness(r)}),e.qZA()}}function ue(n,s){if(1&n&&(e.TgZ(0,"div",20),e.YNc(1,pe,1,0,"app-select-business",21),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.selectBusiness)}}function _e(n,s){if(1&n&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"p"),e.TgZ(3,"span",3),e._uU(4,"Ciclos > "),e.qZA(),e.TgZ(5,"span",4),e._uU(6),e.qZA(),e._uU(7," > Empresas"),e.qZA(),e.YNc(8,ce,1,0,"img",5),e.qZA(),e.TgZ(9,"p",6),e._uU(10,"Empresas"),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"div",8),e.YNc(13,de,5,0,"div",9),e.YNc(14,le,6,6,"div",10),e.qZA(),e.qZA(),e.YNc(15,ue,2,1,"div",11),e.qZA()),2&n){const t=e.oxw();e.xp6(6),e.Oqu(t.currentDegree.name),e.xp6(2),e.Q6J("ngIf",t.isAdmin),e.xp6(5),e.Q6J("ngIf",t.isAdmin),e.xp6(1),e.Q6J("ngForOf",t.currentDegree.businesses),e.xp6(1),e.Q6J("ngIf",t.selectBusiness)}}let A=(()=>{class n{constructor(t,i,r,o){this.rutaActiva=t,this.degreeSrv=i,this.userSrv=r,this.router=o,this.isAdmin=!1,this.selectBusiness=!1,this.editMode=!1}ngOnInit(){var t,i;"ROLE_ADMIN"==(null===(i=null===(t=this.userSrv.getPerson())||void 0===t?void 0:t.rol)||void 0===i?void 0:i.toString())&&(this.isAdmin=!0),this.loadDegree()}addBusiness(t){this.selectBusiness=!1;let i=this.degreeSrv.addBusiness(this.currentDegree,t).subscribe({next:()=>{i.unsubscribe(),this.loadDegree()},error:r=>{i.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}})}loadDegree(){let i=this.degreeSrv.getByDegreeOnly(this.rutaActiva.snapshot.params.idDegree).subscribe({next:r=>{i.unsubscribe(),this.currentDegree=r;let o=this.degreeSrv.getBusinessFromDegree(r).subscribe({next:c=>{o.unsubscribe(),this.currentDegree.businesses=c}})}})}quitBusiness(t){a().fire({title:"\xbfQuitar empresa?",text:"Dejar\xe1 de estar disponible para ser elegida",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Quitar"}).then(i=>{if(i.isConfirmed){let r=this.degreeSrv.quitFromDegree(this.currentDegree,t).subscribe({next:()=>{r.unsubscribe(),this.loadDegree()}})}})}viewBusiness(t){this.router.navigateByUrl("/dashboard/business/search-business/edit/"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(l),e.Y36(u.K),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-degree-business"]],decls:1,vars:1,consts:[["id","mainDiv","class","inNewIntro",4,"ngIf"],["id","mainDiv",1,"inNewIntro"],["id","title"],["routerLink","../../../",1,"degreesText"],["routerLink","../",1,"degreesText"],["src","assets/img/edit.png","id","canDeleteBusiness",3,"click",4,"ngIf"],["id","businessTitle"],["id","centerZoneView"],["id","businessZone"],["class","businessOption",4,"ngIf"],["class","businessOption",3,"ngClass",4,"ngFor","ngForOf"],["id","modal-zone",4,"ngIf"],["src","assets/img/edit.png","id","canDeleteBusiness",3,"click"],[1,"businessOption"],["id","addOptionBusiness",1,"imageOption",3,"click"],["src","assets/img/add.png","id","addImage"],[1,"businessOption",3,"ngClass"],[1,"imgOption",3,"src"],["src","assets/img/delete.png","class","idDeleteBusiness",3,"click",4,"ngIf"],["src","assets/img/delete.png",1,"idDeleteBusiness",3,"click"],["id","modal-zone"],["class","selectModal",3,"cif",4,"ngIf"],[1,"selectModal",3,"cif"]],template:function(t,i){1&t&&e.YNc(0,_e,16,5,"div",0),2&t&&e.Q6J("ngIf",i.currentDegree)},directives:[p.O5,d.rH,p.sg,p.mk,M.B],styles:["#mainDiv[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:4%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){font-size:20px;font-weight:600}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){opacity:.7}.degreesText[_ngcontent-%COMP%]{opacity:.7}#businessTitle[_ngcontent-%COMP%]{font-size:20px;margin-top:30px;margin-left:4%}#centerZoneView[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;display:flex;width:100%}#businessZone[_ngcontent-%COMP%]{flex-wrap:wrap;width:100%;gap:30px;display:flex;margin-top:20px;margin-bottom:20px;justify-content:center;align-content:center;padding-left:20px;padding-right:20px}.businessOption[_ngcontent-%COMP%]{width:144px;height:150px;display:flex;justify-content:center;align-items:center;flex-direction:column}.businessOption[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:10px}#addOptionBusiness[_ngcontent-%COMP%]{box-shadow:0 5px 5px #e0e0e0;background-color:#eee}.imageOption[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-direction:column;justify-content:center;align-items:center;height:60%;width:100%}#title[_ngcontent-%COMP%]{margin-top:40px!important}#addImage[_ngcontent-%COMP%]{width:40px}.idDeleteBusiness[_ngcontent-%COMP%]{width:20px;position:relative;top:10px}#canDeleteBusiness[_ngcontent-%COMP%]{width:20px;position:absolute;right:4%;top:55px}@keyframes miedo{0%{transform:rotate(0)}25%{transform:rotate(1deg)}50%{transform:rotate(0)}75%{transform:rotate(-1deg)}to{transform:rotate(0)}}.animatedTx[_ngcontent-%COMP%]{animation-name:miedo;animation-duration:.2s;animation-iteration-count:infinite}#modal-zone[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;background-color:#00000072;justify-content:center;align-items:center;top:0}#modal-zone[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{transition:1s;animation-name:introSlow;animation-duration:.2s}.selectModal[_ngcontent-%COMP%]{width:90%;background-color:#f2f2f2;height:500px;box-shadow:0 5px 5px gray;max-width:400px}"]}),n})();function me(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"img",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return r.editMode=!r.editMode}),e.qZA()}}function he(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"img",13),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).selectTeacher=!0}),e.qZA()}}function xe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"img",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(3).quitTeacher(r.dni)}),e.qZA()}}function fe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",16),e.TgZ(1,"img",17),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw(3).viewPerson(o.dni)}),e.qZA(),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.YNc(6,xe,1,0,"img",18),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw(3);e.xp6(1),e.s9C("src",t.image,e.LSH),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.lastName),e.xp6(1),e.Q6J("ngIf",i.editMode)}}function ve(n,s){if(1&n&&(e.TgZ(0,"div",14),e.YNc(1,fe,7,4,"div",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.currentDegree.teachers)}}function Ce(n,s){1&n&&(e.TgZ(0,"div",20),e._UZ(1,"img",21),e.TgZ(2,"p"),e._uU(3,"No hay profesores asignados"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"Comienze por asignar alguno ahora"),e.qZA(),e.qZA())}function Oe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-select-teacher",24),e.NdJ("dni",function(r){return e.CHM(t),e.oxw(3).addTeacher(r)}),e.qZA()}}function Te(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).selectTeacher=!1}),e.YNc(1,Oe,1,0,"app-select-teacher",23),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.selectTeacher)}}function De(n,s){if(1&n&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"p"),e.TgZ(3,"span",3),e._uU(4,"Ciclos > "),e.qZA(),e.TgZ(5,"span",4),e._uU(6),e.qZA(),e._uU(7," > Profesores"),e.qZA(),e.YNc(8,me,1,0,"img",5),e.YNc(9,he,1,0,"img",6),e.qZA(),e.TgZ(10,"p",7),e._uU(11,"Profesores"),e.qZA(),e.TgZ(12,"div",8),e.YNc(13,ve,2,1,"div",9),e.YNc(14,Ce,6,0,"div",10),e.qZA(),e.YNc(15,Te,2,1,"div",11),e.qZA()),2&n){const t=e.oxw();e.xp6(6),e.Oqu(t.currentDegree.name),e.xp6(2),e.Q6J("ngIf",t.isAdmin),e.xp6(1),e.Q6J("ngIf",t.isAdmin),e.xp6(4),e.Q6J("ngIf",t.currentDegree.teachers&&0!=t.currentDegree.teachers.length),e.xp6(1),e.Q6J("ngIf",t.currentDegree.teachers&&0==t.currentDegree.teachers.length),e.xp6(1),e.Q6J("ngIf",t.selectTeacher)}}let S=(()=>{class n{constructor(t,i,r,o,c){this.centerSvr=t,this.degreeSrv=i,this.rutaActiva=r,this.router=o,this.userSrv=c,this.selectTeacher=!1,this.isAdmin=!1,this.editMode=!1}ngOnInit(){var t,i;"ROLE_ADMIN"==(null===(i=null===(t=this.userSrv.getPerson())||void 0===t?void 0:t.rol)||void 0===i?void 0:i.toString())&&(this.isAdmin=!0),this.loadDegree()}loadDegree(){let i=this.degreeSrv.getByDegreeOnly(this.rutaActiva.snapshot.params.idDegree).subscribe({next:r=>{i.unsubscribe(),this.currentDegree=r;let o=this.degreeSrv.getTeachersFromDegree(r).subscribe({next:c=>{o.unsubscribe(),this.currentDegree.teachers=c},error:c=>{o.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:c.error.mensaje})}})},error:()=>{i.unsubscribe(),this.router.navigate(["../"],{relativeTo:this.rutaActiva})}})}addTeacher(t){this.selectTeacher=!1;let i=this.degreeSrv.addTeacherToDegree(this.currentDegree,t).subscribe({next:()=>{i.unsubscribe(),this.loadDegree()},error:r=>{i.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}})}quitTeacher(t){a().fire({title:"\xbfQuitar profesor?",text:"El profesor no podr\xe1 ver el ciclo",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Quitar"}).then(i=>{if(i.isConfirmed){let r=this.degreeSrv.quitTeacherFromDegree(this.currentDegree,t).subscribe({next:()=>{r.unsubscribe(),this.loadDegree()},error:o=>{r.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:o.error.mensaje})}})}})}viewPerson(t){this.router.navigateByUrl("/dashboard/person/management/"+t+"/edit")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.F),e.Y36(l),e.Y36(d.gz),e.Y36(d.F0),e.Y36(u.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-degree-teacher"]],decls:1,vars:1,consts:[["id","mainDiv","class","inNewIntro",4,"ngIf"],["id","mainDiv",1,"inNewIntro"],["id","title"],["routerLink","../../../",1,"degreesText"],["routerLink","../",1,"degreesText"],["src","assets/img/edit.png","id","canDeleteBusiness","title","Modo edici\xf3n","alt","Modo edici\xf3n",3,"click",4,"ngIf"],["src","assets/img/add-icon.png","id","addButton","alt","A\xf1adir nuevo profesor","title","A\xf1adir nuevo profesor",3,"click",4,"ngIf"],["id","businessTitle"],["id","maxWidthDiv"],["id","zone",4,"ngIf"],["id","noStudentsDiv",4,"ngIf"],["id","modal-zone",3,"click",4,"ngIf"],["src","assets/img/edit.png","id","canDeleteBusiness","title","Modo edici\xf3n","alt","Modo edici\xf3n",3,"click"],["src","assets/img/add-icon.png","id","addButton","alt","A\xf1adir nuevo profesor","title","A\xf1adir nuevo profesor",3,"click"],["id","zone"],["class","listOption",4,"ngFor","ngForOf"],[1,"listOption"],[3,"src","click"],["class","deleteOption","src","assets/img/delete.png","alt","Quitar","title","Quitar",3,"click",4,"ngIf"],["src","assets/img/delete.png","alt","Quitar","title","Quitar",1,"deleteOption",3,"click"],["id","noStudentsDiv"],["src","assets/img/teacher.png"],["id","modal-zone",3,"click"],["class","selectModal",3,"dni",4,"ngIf"],[1,"selectModal",3,"dni"]],template:function(t,i){1&t&&e.YNc(0,De,16,6,"div",0),2&t&&e.Q6J("ngIf",i.currentDegree)},directives:[p.O5,d.rH,p.sg,w.A],styles:["#mainDiv[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:4%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){font-size:20px;font-weight:600}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){opacity:.7}.degreesText[_ngcontent-%COMP%]{opacity:.7}#canDeleteBusiness[_ngcontent-%COMP%]{width:20px;position:absolute;right:4%;top:55px}#businessTitle[_ngcontent-%COMP%]{font-size:20px;margin-top:30px;margin-left:4%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){margin-top:40px}#maxWidthDiv[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}#zone[_ngcontent-%COMP%]{width:90%;margin-top:15px;max-width:900px;border:1px solid rgb(189,189,189)}.listOption[_ngcontent-%COMP%]{width:100%;transition:.2s;height:51px;background-color:#eaeaea;display:flex;flex-direction:row;align-content:center;position:relative;align-items:center;border-bottom:1px solid rgb(189,189,189)}.listOption[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}.listOption[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{margin-left:10px;height:75%;width:50px}.listOption[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){margin-left:20px}.listOption[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(3){margin-left:5px}.deleteOption[_ngcontent-%COMP%]{width:20px;position:absolute;height:max-content!important;right:20px}#addButton[_ngcontent-%COMP%]{width:20px;position:absolute;right:8%;top:55px}.selectModal[_ngcontent-%COMP%]{width:90%;background-color:#f2f2f2;height:500px;box-shadow:0 5px 5px gray;max-width:400px}#modal-zone[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;background-color:#00000072;justify-content:center;align-items:center;top:0}#noStudentsDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;align-items:center}#noStudentsDiv[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:nth-child(1){width:90%;margin-top:20%;max-width:250px}#noStudentsDiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){font-size:20px;margin-top:10px}#noStudentsDiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(3){opacity:.7}#modal-zone[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{transition:1s;animation-name:introSlow;animation-duration:.2s}@keyframes introSlow{0%{opacity:0;transform:scale(.7)}to{transform:scale(1);opacity:1}}.listOption[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(4){width:25px}"]}),n})();function be(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"img",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return r.editMode=!r.editMode}),e.qZA()}}function Me(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"img",13),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).selectStudent=!0}),e.qZA()}}function we(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"img",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(3).quitStudent(r.id)}),e.qZA()}}function Ze(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",16),e.TgZ(1,"img",17),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw(3).viewPerson(o.student.dni)}),e.qZA(),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.YNc(6,we,1,0,"img",18),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw(3);e.xp6(1),e.s9C("src",null==t.student?null:t.student.image,e.LSH),e.xp6(2),e.Oqu(t.student.name),e.xp6(2),e.Oqu(t.student.lastName),e.xp6(1),e.Q6J("ngIf",i.editMode)}}function Pe(n,s){if(1&n&&(e.TgZ(0,"div",14),e.YNc(1,Ze,7,4,"div",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.currentDegree.enrollments)}}function Ae(n,s){1&n&&(e.TgZ(0,"div",20),e._UZ(1,"img",21),e.TgZ(2,"p"),e._uU(3,"No hay alumnos matriculados"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"Comienze por matricular alguno ahora"),e.qZA(),e.qZA())}function Se(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-select-student",24),e.NdJ("dni",function(r){return e.CHM(t),e.oxw(3).addStudent(r)}),e.qZA()}}function qe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).selectStudent=!1}),e.YNc(1,Se,1,0,"app-select-student",23),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.selectStudent)}}function ye(n,s){if(1&n&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"p"),e.TgZ(3,"span",3),e._uU(4,"Ciclos > "),e.qZA(),e.TgZ(5,"span",4),e._uU(6),e.qZA(),e._uU(7," > Estudiantes"),e.qZA(),e.YNc(8,be,1,0,"img",5),e.YNc(9,Me,1,0,"img",6),e.qZA(),e.TgZ(10,"p",7),e._uU(11,"Estudiantes"),e.qZA(),e.TgZ(12,"div",8),e.YNc(13,Pe,2,1,"div",9),e.YNc(14,Ae,6,0,"div",10),e.qZA(),e.YNc(15,qe,2,1,"div",11),e.qZA()),2&n){const t=e.oxw();e.xp6(6),e.Oqu(t.currentDegree.name),e.xp6(2),e.Q6J("ngIf",t.isAdmin),e.xp6(1),e.Q6J("ngIf",t.isAdmin),e.xp6(4),e.Q6J("ngIf",t.currentDegree.enrollments&&0!=t.currentDegree.enrollments.length),e.xp6(1),e.Q6J("ngIf",t.currentDegree.enrollments&&0==t.currentDegree.enrollments.length),e.xp6(1),e.Q6J("ngIf",t.selectStudent)}}let q=(()=>{class n{constructor(t,i,r,o,c){this.centerSvr=t,this.degreeSrv=i,this.rutaActiva=r,this.router=o,this.userSrv=c,this.selectStudent=!1,this.isAdmin=!1,this.editMode=!1}ngOnInit(){var t,i;"ROLE_ADMIN"==(null===(i=null===(t=this.userSrv.getPerson())||void 0===t?void 0:t.rol)||void 0===i?void 0:i.toString())&&(this.isAdmin=!0),this.loadDegree()}loadDegree(){let i=this.degreeSrv.getByDegreeOnly(this.rutaActiva.snapshot.params.idDegree).subscribe({next:r=>{i.unsubscribe(),this.currentDegree=r;let o=this.degreeSrv.getStudentsFromDegree(r).subscribe({next:c=>{o.unsubscribe(),this.currentDegree.enrollments=c},error:c=>{i.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:c.error.mensaje})}})},error:()=>{i.unsubscribe(),this.router.navigate(["../"],{relativeTo:this.rutaActiva})}})}addStudent(t){this.selectStudent=!1;let i=this.degreeSrv.addStudentToDegree(this.currentDegree,t).subscribe({next:()=>{i.unsubscribe(),this.loadDegree()},error:r=>{i.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}})}quitStudent(t){a().fire({title:"\xbfQuitar estudiante?",text:"El estudiante ser\xe1 desmatriculado del ciclo y se borrar\xe1n sus pr\xe1cticas",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Quitar"}).then(i=>{if(i.isConfirmed){let r=this.degreeSrv.quitEnrollmentFromDegree(this.currentDegree,t).subscribe({next:()=>{r.unsubscribe(),this.loadDegree()},error:o=>{r.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:o.error.mensaje})}})}})}viewPerson(t){this.router.navigateByUrl("/dashboard/person/management/"+t+"/edit")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.F),e.Y36(l),e.Y36(d.gz),e.Y36(d.F0),e.Y36(u.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-degree-student"]],decls:1,vars:1,consts:[["id","mainDiv","class","inNewIntro",4,"ngIf"],["id","mainDiv",1,"inNewIntro"],["id","title"],["routerLink","../../../",1,"degreesText"],["routerLink","../",1,"degreesText"],["src","assets/img/edit.png","id","canDeleteBusiness","title","Modo edici\xf3n","alt","Modo edici\xf3n",3,"click",4,"ngIf"],["src","assets/img/add-icon.png","id","addButton","alt","A\xf1adir nuevo profesor","title","A\xf1adir nuevo profesor",3,"click",4,"ngIf"],["id","businessTitle"],["id","maxWidthDiv"],["id","zone",4,"ngIf"],["id","noStudentsDiv",4,"ngIf"],["id","modal-zone",3,"click",4,"ngIf"],["src","assets/img/edit.png","id","canDeleteBusiness","title","Modo edici\xf3n","alt","Modo edici\xf3n",3,"click"],["src","assets/img/add-icon.png","id","addButton","alt","A\xf1adir nuevo profesor","title","A\xf1adir nuevo profesor",3,"click"],["id","zone"],["class","listOption",4,"ngFor","ngForOf"],[1,"listOption"],[3,"src","click"],["class","deleteOption","src","assets/img/delete.png","alt","Quitar","title","Quitar",3,"click",4,"ngIf"],["src","assets/img/delete.png","alt","Quitar","title","Quitar",1,"deleteOption",3,"click"],["id","noStudentsDiv"],["src","assets/img/students.png"],["id","modal-zone",3,"click"],["class","selectModal",3,"dni",4,"ngIf"],[1,"selectModal",3,"dni"]],template:function(t,i){1&t&&e.YNc(0,ye,16,6,"div",0),2&t&&e.Q6J("ngIf",i.currentDegree)},directives:[p.O5,d.rH,p.sg,Z],styles:["#mainDiv[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:4%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){font-size:20px;font-weight:600}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){opacity:.7}.degreesText[_ngcontent-%COMP%]{opacity:.7}#canDeleteBusiness[_ngcontent-%COMP%]{width:20px;position:absolute;right:4%;top:55px}#businessTitle[_ngcontent-%COMP%]{font-size:20px;margin-top:30px;margin-left:4%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){margin-top:40px}#maxWidthDiv[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}#zone[_ngcontent-%COMP%]{width:90%;margin-top:15px;max-width:900px;border:1px solid rgb(189,189,189)}.listOption[_ngcontent-%COMP%]{width:100%;transition:.2s;height:51px;background-color:#eaeaea;display:flex;flex-direction:row;align-content:center;position:relative;align-items:center;border-bottom:1px solid rgb(189,189,189)}.listOption[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}.listOption[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{margin-left:10px;height:75%;width:50px}.listOption[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){margin-left:20px}.listOption[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(3){margin-left:5px}.deleteOption[_ngcontent-%COMP%]{width:20px;position:absolute;height:max-content!important;right:20px}#addButton[_ngcontent-%COMP%]{width:20px;position:absolute;right:4%;margin-right:30px;top:55px}.selectModal[_ngcontent-%COMP%]{width:90%;background-color:#f2f2f2;height:500px;box-shadow:0 5px 5px gray;max-width:400px}#modal-zone[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;background-color:#00000072;justify-content:center;align-items:center;top:0}#noStudentsDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;align-items:center}#noStudentsDiv[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:nth-child(1){width:90%;margin-top:20%;max-width:250px}#noStudentsDiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){font-size:20px;margin-top:10px}#noStudentsDiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(3){opacity:.7}#modal-zone[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{transition:1s;animation-name:introSlow;animation-duration:.2s}@keyframes introSlow{0%{opacity:0;transform:scale(.7)}to{transform:scale(1);opacity:1}}.listOption[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(4){width:25px}"]}),n})();function Fe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw(2).goTo(o.id)}),e._UZ(1,"img",7),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.qZA()}if(2&n){const t=s.$implicit;e.s9C("id",t.id),e.xp6(1),e.s9C("src",t.image,e.LSH),e.xp6(2),e.Oqu(t.name)}}function Ne(n,s){if(1&n&&(e.TgZ(0,"div",4),e.YNc(1,Fe,4,3,"div",5),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.degrees)}}function ke(n,s){1&n&&(e.TgZ(0,"div",8),e._UZ(1,"img",9),e.TgZ(2,"p"),e._uU(3,"Sin ciclos"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"Aqu\xed se mostrar\xe1n los ciclos en los que imparte clase"),e.qZA(),e.qZA())}const Ie=[{path:"",redirectTo:"all"},{path:"all",component:Q},{path:"my-degrees",component:(()=>{class n{constructor(t,i,r,o,c,h){this.dashboardSrv=t,this.degreeSvr=i,this.centerSvr=r,this.router=o,this.route=c,this.userSrv=h,this.editMode=!1}ngOnInit(){this.dashboardSrv.setTitle("Mis ciclos"),this.loadDegrees()}loadDegrees(){let t=this.centerSvr.getDegreesFromDni(this.userSrv.getDni()).subscribe({next:i=>{t.unsubscribe(),this.degrees=i},error:i=>{t.unsubscribe(),a().fire({icon:"error",title:"Oops...",text:i.error.mensaje})}})}goTo(t){this.editMode||this.router.navigate(["view/"+t],{relativeTo:this.route})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(l),e.Y36(v.F),e.Y36(d.F0),e.Y36(d.gz),e.Y36(u.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-my-degrees"]],decls:8,vars:2,consts:[["id","mainDiv",1,"inNewIntro"],["id","title"],["id","degrees",4,"ngIf"],["id","no-degrees",4,"ngIf"],["id","degrees"],["class","degree",3,"id","click",4,"ngFor","ngForOf"],[1,"degree",3,"id","click"],[3,"src"],["id","no-degrees"],["src","assets/img/no-degrees.png"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p"),e._uU(3,"Mis ciclos"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"Mostrando ciclos de este a\xf1o"),e.qZA(),e.qZA(),e.YNc(6,Ne,2,1,"div",2),e.YNc(7,ke,6,0,"div",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngIf",i.degrees&&0!=i.degrees.length),e.xp6(1),e.Q6J("ngIf",!i.degrees||0==i.degrees.length))},directives:[p.O5,p.sg],styles:["#mainDiv[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}#title[_ngcontent-%COMP%]{margin-top:40px;height:93px;width:100%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:4%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){font-size:20px;font-weight:600}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){opacity:.7}#no-degrees[_ngcontent-%COMP%]{display:flex;height:60%;width:100%;justify-content:center;align-items:center;flex-direction:column}#no-degrees[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:270px;width:80%}#no-degrees[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-size:20px;margin-top:6px;margin-bottom:6px}#no-degrees[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){max-width:300px;opacity:.7;text-align:center;width:90%}.icon-action[_ngcontent-%COMP%]{width:20px}#edit[_ngcontent-%COMP%]{margin-right:13px}#actions[_ngcontent-%COMP%]{position:absolute;top:15px;right:0;margin-right:4%}.deleteIconDegree[_ngcontent-%COMP%]{width:20px;position:absolute;bottom:9px;right:8px;height:max-content!important}#degrees[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}.degree[_ngcontent-%COMP%]{margin:6px;position:relative;border-radius:5px;box-shadow:0 4px 5px #9f9f9f;width:210px;background-color:#f2f2f2;height:135px;display:flex;justify-content:flex-start;padding-top:20px;overflow:hidden;align-items:center;flex-direction:column}#actions[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{position:relative;top:-4px;margin-left:10px}.degree[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:60px}.degree[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:16px}.animatedTx[_ngcontent-%COMP%]   .degree[_ngcontent-%COMP%]{animation-name:miedo;animation-duration:.2s;animation-iteration-count:infinite}@keyframes miedo{0%{transform:rotate(0)}25%{transform:rotate(1deg)}50%{transform:rotate(0)}75%{transform:rotate(-1deg)}to{transform:rotate(0)}}@media (max-width: 400px){#actions[_ngcontent-%COMP%]{position:absolute;bottom:10px;top:unset}}.fileUp[_ngcontent-%COMP%]{position:absolute;top:0;width:150%;height:90px;left:30%;opacity:0}#yearInput[_ngcontent-%COMP%]{width:100px;border:none;height:30px;background-color:#ececec}#title[_ngcontent-%COMP%]{position:relative}"]}),n})()},{path:"my-degrees/view/:idDegree",component:P},{path:"all/view/:idDegree",component:P},{path:"my-degrees/view/:idDegree/business",component:A},{path:"my-degrees/view/:idDegree/teacher",component:S},{path:"all/view/:idDegree/business",component:A},{path:"all/view/:idDegree/teacher",component:S},{path:"my-degrees/view/:idDegree/student",component:q},{path:"all/view/:idDegree/student",component:q}];let Be=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.Bz.forChild(Ie)],d.Bz]}),n})();var Ye=g(4466);let Je=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez,Be,Ye.m]]}),n})()},9976:(y,C,g)=>{g.d(C,{Y:()=>O});var p=g(520),d=g(1223),T=g(2340);let a=(()=>{class u{constructor(_){this.http=_}upload(_){const l=new FormData;l.append("file",_);const v=new p.aW("POST",`${T.N.serverFileAddress}/upload`,l,{reportProgress:!0,responseType:"json"});return this.http.request(v)}}return u.\u0275fac=function(_){return new(_||u)(d.LFG(p.eN))},u.\u0275prov=d.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();var m=g(9808);function e(u,f){if(1&u&&(d.TgZ(0,"p",4),d._uU(1),d.qZA()),2&u){const _=d.oxw();d.xp6(1),d.hij("",_.progress," %")}}let O=(()=>{class u{constructor(_){this.fileService=_,this.textToShow="",this.fileName=new d.vpe,this.progress=0,this.message=""}ngOnInit(){}selectFile(_){this.selectedFiles=_.target.files,this.upload()}upload(){if(this.progress=0,this.selectedFiles){const _=this.selectedFiles.item(0);_&&(this.currentFile=_,this.fileService.upload(this.currentFile).subscribe({next:l=>{l.type===p.dt.UploadProgress?this.progress=Math.round(100*l.loaded/l.total):l instanceof p.Zn&&this.fileName.emit(l.body.id)},error:l=>{this.progress=0,this.message=l.error&&l.error.message?l.error.message:"Error al subir",this.currentFile=void 0}})),this.selectedFiles=void 0}}}return u.\u0275fac=function(_){return new(_||u)(d.Y36(a))},u.\u0275cmp=d.Xpm({type:u,selectors:[["app-file-upload"]],inputs:{textToShow:"textToShow"},outputs:{fileName:"fileName"},decls:5,vars:2,consts:[[1,"custom-input-file","col-md-6","col-sm-6","col-xs-6"],["type","file","accept",".bmp,.jpg,.png",1,"input-file",3,"change"],["src","assets/img/upload.png"],["id","progress",4,"ngIf"],["id","progress"]],template:function(_,l){1&_&&(d.TgZ(0,"div",0),d.TgZ(1,"input",1),d.NdJ("change",function(D){return l.selectFile(D)}),d.qZA(),d._uU(2),d._UZ(3,"img",2),d.YNc(4,e,2,1,"p",3),d.qZA()),2&_&&(d.xp6(2),d.hij(" ",l.textToShow," "),d.xp6(2),d.Q6J("ngIf",0!=l.progress))},directives:[m.O5],styles:[".custom-input-file[_ngcontent-%COMP%]{background-color:#f6f6f6;cursor:pointer;margin:0 auto;border:1px dashed grey;overflow:hidden;position:relative;text-align:center;width:100%;height:100%}.custom-input-file[_ngcontent-%COMP%]   .input-file[_ngcontent-%COMP%]{border:10000px solid transparent;cursor:pointer;font-size:10000px;margin:0;opacity:0;outline:0 none;padding:0;position:absolute;right:-1000px;top:-1000px}.input-file[_ngcontent-%COMP%]{z-index:10}img[_ngcontent-%COMP%]{width:70px;margin-top:20px;animation-duration:2s;animation-name:animate;margin-bottom:20px;animation-iteration-count:infinite}div[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:5px;align-items:center;justify-content:center;padding:20px}@keyframes animate{0%{transform:translateY(0)}50%{transform:translateY(-10px)}to{transform:translateY(0)}}"]}),u})()}}]);