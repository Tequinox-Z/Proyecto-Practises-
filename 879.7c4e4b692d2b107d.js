"use strict";(self.webpackChunkPractises_Management=self.webpackChunkPractises_Management||[]).push([[879],{8212:(x,h,n)=>{n.d(h,{s:()=>c});var u=n(1223);let c=(()=>{class s{constructor(){this.title="",this.disableNav=!1}getDisableNav(){return this.disableNav}setDisableNav(d){this.disableNav=d}getTitle(){return this.title}setTitle(d){this.title=d}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=u.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},7879:(x,h,n)=>{n.r(h),n.d(h,{DashboardModule:()=>N});var u=n(4466),c=n(9808),s=n(1451),m=n(5226),d=n.n(m),e=n(1223),Z=n(2290),p=n(5295),v=n(3958),A=n(5282),T=n(8212);let C=(()=>{class i{constructor(t,o,r,g){this.userService=t,this.auth=o,this.router=r,this.rutaActiva=g}ngOnInit(){}exitConfirm(){var t;null===(t=document.querySelector("#optionsNav"))||void 0===t||t.classList.add("hidden"),d().fire({title:"\xbfCerrar sesi\xf3n?",text:"Los cambios no guardados se perder\xe1n",icon:"warning",confirmButtonColor:"#3085d6",confirmButtonText:"Cerrar sesi\xf3n"}).then(o=>{o.isConfirmed&&(document.querySelector("html").classList.remove("gray"),document.querySelector("html").classList.remove("highConstrast"),this.userService.setPerson(null),this.auth.logout())})}myUser(){this.router.navigateByUrl("dashboard/person/management/"+this.userService.getDni()+"/edit")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.K),e.Y36(p.e),e.Y36(s.F0),e.Y36(s.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-menu"]],decls:7,vars:0,consts:[[3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div"),e.TgZ(1,"p",0),e.NdJ("click",function(){return o.myUser()}),e._uU(2,"Mi usuario"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Opciones"),e.qZA(),e.TgZ(5,"p",0),e.NdJ("click",function(){return o.exitConfirm()}),e._uU(6,"Salir"),e.qZA(),e.qZA())},styles:["div[_ngcontent-%COMP%]{background-color:#d3d3d3;border-top:1px solid grey;height:100%;width:100%;display:flex;flex-direction:column;flex-wrap:nowrap;align-items:flex-start;animation-name:intro;animation-duration:.5s;transition:.5s}@keyframes intro{0%{opacity:0}to{opacity:1}}p[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center;flex-wrap:nowrap;align-content:center;padding-left:25px;width:100%}p[_ngcontent-%COMP%]:hover{background-color:#ebebeb}"]}),i})();function y(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",13),e._UZ(2,"img",14),e.qZA(),e.TgZ(3,"div",15),e._UZ(4,"img",16),e.qZA(),e.TgZ(5,"div",17),e._UZ(6,"img",18),e.qZA(),e.TgZ(7,"div",19),e._UZ(8,"img",20),e.qZA(),e.TgZ(9,"div",21),e.TgZ(10,"div",22),e._UZ(11,"img",23),e.qZA(),e.qZA(),e.TgZ(12,"div",24),e._UZ(13,"img",25),e.qZA(),e.TgZ(14,"div",26),e._UZ(15,"img",27),e.qZA(),e.TgZ(16,"div",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).initUser()}),e._UZ(17,"img",29),e.qZA(),e.qZA()}}function b(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",15),e._UZ(2,"img",16),e.qZA(),e.TgZ(3,"div",26),e._UZ(4,"img",27),e.qZA(),e.TgZ(5,"div",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).initUser()}),e._UZ(6,"img",29),e.qZA(),e.qZA()}}function M(i,a){if(1&i&&(e.TgZ(0,"div",12),e.YNc(1,y,18,0,"div",1),e.YNc(2,b,7,0,"div",1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.userService.getPerson().rol+""=="ROLE_ADMIN"),e.xp6(1),e.Q6J("ngIf",t.userService.getPerson().rol+""=="ROLE_TEACHER")}}const D=function(i){return{widthMax:i}};function S(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.TgZ(2,"img",4),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return r.showActions=!r.showActions}),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"div",5),e.TgZ(6,"img",6),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return r.menu=!r.menu}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",7),e.YNc(8,M,3,2,"div",8),e.TgZ(9,"div",9),e.TgZ(10,"div",10),e.TgZ(11,"router-outlet",11),e.NdJ("notification",function(r){return e.CHM(t),e.oxw().showMessage(r)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();let o;e.xp6(4),e.Oqu(t.dashboardService.getTitle()),e.xp6(2),e.s9C("src",t.userService.getPerson()&&null!=(o=t.userService.getPerson())&&o.image?t.userService.getPerson().image:"assets/img/not_image.png",e.LSH),e.cQ8("title","",t.userService.getPerson()?t.userService.getPerson().name:""," ",t.userService.getPerson()?t.userService.getPerson().lastName:""," (",t.roleAssign,")"),e.xp6(2),e.Q6J("ngIf",t.showActions),e.xp6(1),e.Q6J("ngClass",e.VKq(7,D,!t.showActions))}}function P(i,a){1&i&&e._UZ(0,"app-menu")}let f=(()=>{class i{constructor(t,o,r,g,w,I,O){this.toastService=t,this.route=o,this.router=r,this.auth=g,this.userService=w,this.displayLoadingService=I,this.dashboardService=O,this.administratorDefaultPage="center/my-center",this.teacherDefaultPage="center/centers",this.showActions=!0,this.menu=!1,this.roleAssign=""}ngAfterViewInit(){this.displayLoadingService.setShowDisplayLoading(!1)}ngOnInit(){this.initUser()}initUser(){this.dashboardService.setTitle("Dashboard"),this.userService.getUser().subscribe({next:t=>{switch(this.userService.setPerson(t),t.rol+""){case"ROLE_ADMIN":this.roleAssign="Administrador",this.router.navigate([this.administratorDefaultPage],{relativeTo:this.route});break;case"ROLE_TEACHER":this.roleAssign="Profesor",this.router.navigate([this.teacherDefaultPage],{relativeTo:this.route});break;default:d().fire({icon:"error",title:"Oops...",text:"Error al cargar rol de usuario"})}},error:t=>{d().fire({icon:"error",title:"Oops...",text:null==t.error.mensaje?"Servidor no disponible":t.error.mensaje})}})}showMessage(t){this.toastService.success("FF","",{progressBar:!0,progressAnimation:"increasing"})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z._W),e.Y36(s.gz),e.Y36(s.F0),e.Y36(p.e),e.Y36(v.K),e.Y36(A.t),e.Y36(T.s))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dashboard"]],decls:2,vars:2,consts:[["id","container-main",4,"ngIf"],[4,"ngIf"],["id","container-main"],["id","navigator"],["id","menu","src","assets/img/menu.png",3,"click"],["id","user-zone"],[3,"src","title","click"],["id","view"],["id","menu-zone",4,"ngIf"],["id","content",3,"ngClass"],["id","router"],[3,"notification"],["id","menu-zone"],["routerLink","/dashboard/center/my-center","routerLinkActive","activated",1,"option"],["src","assets/img/school-icon.png"],["routerLink","/dashboard/center/centers","routerLinkActive","activated",1,"option"],["src","assets/img/find-icon.svg"],["routerLink","/dashboard/center/movements","routerLinkActive","activated",1,"option"],["src","assets/img/movement-icon.png"],["routerLink","/dashboard/center/temperature-humidity","routerLinkActive","activated",1,"option"],["src","assets/img/temperature.png","alt","Registros de temperatura","title","Registros de temperatura"],["routerLink","/dashboard/degrees/","routerLinkActive","activated","id","double"],["id","practise","routerLink","/dashboard/practise/","routerLinkActive","activated"],["src","assets/img/degrees-icon.png"],["routerLink","/dashboard/person/management","routerLinkActive","activated",1,"option"],["src","assets/img/persons.png"],["routerLink","/dashboard/business/search-business","routerLinkActive","activated",1,"option"],["src","assets/img/business-icon.png"],["id","logoInApp",1,"option",3,"click"],["src","assets/img/logo.png","alt","Practises Management","title","Practises Management"]],template:function(t,o){1&t&&(e.YNc(0,S,12,9,"div",0),e.YNc(1,P,1,0,"app-menu",1)),2&t&&(e.Q6J("ngIf",null!=o.userService.getPerson()),e.xp6(1),e.Q6J("ngIf",o.menu))},directives:[c.O5,s.rH,s.Od,c.mk,s.lC,C],styles:["#container-main{width:100%;height:100vh;display:flex;justify-content:flex-end;overflow:hidden}#navigator{position:fixed;top:0;background-color:#d3d3d3;width:100%;height:50px;display:flex;align-items:center;text-align:center;justify-content:center}#menu-zone>div{width:100%;transition:.2s;display:flex;flex-direction:column;align-items:center}#menu-zone>div>div{display:flex;transition:.2s;flex-direction:column;align-content:center;align-items:center;justify-content:center}#router{overflow:hidden;height:calc(100vh - 50px)}.widthMax{width:100%!important}#logoInApp{filter:invert();position:absolute;bottom:15px}#view{width:100%;display:flex;position:relative;justify-content:flex-end;top:50px}#content{width:calc(100% - 55px);height:calc(100vh - 50px)}.option{width:100%;height:50px}.activated{border-right:3px solid var(--color)}.option-menu{width:70%;display:flex}#practise{touch-action:none;width:100%;height:100%}#double{width:100%;height:50px}#practise.activated{border-right:1px solid var(--color)!important}#double #practise{display:flex;justify-content:center;align-content:center;align-items:center}#router-main{width:calc(100% - 55px)}#menu-zone{padding-top:10px;background-color:#e6e6e6;width:55px;height:calc(100vh - 50px);z-index:100;overflow:hidden;position:fixed;top:50px;left:0;display:flex;justify-content:center}#menu-zone img{width:30px}#user-zone{position:absolute;right:15px;height:50px;display:flex;align-items:center;justify-content:center;text-align:center}#user-zone>img{height:70%;border-radius:50%;width:37px}#menu{position:absolute;left:17px;height:25px}app-menu{position:absolute;top:50px;width:180px;height:max-content;right:0}\n"],encapsulation:2}),i})();var l=n(9269);const L=[{path:"",component:f,children:[{path:"center",loadChildren:()=>Promise.all([n.e(382),n.e(554),n.e(592),n.e(561)]).then(n.bind(n,9561)).then(i=>i.CenterModule),canActivate:[l.e]},{path:"business",loadChildren:()=>Promise.all([n.e(382),n.e(554),n.e(592),n.e(409)]).then(n.bind(n,7409)).then(i=>i.BusinessModule),canActivate:[l.e]},{path:"degrees",loadChildren:()=>Promise.all([n.e(592),n.e(269)]).then(n.bind(n,534)).then(i=>i.DegreesModule),canActivate:[l.e]},{path:"practise",loadChildren:()=>Promise.all([n.e(592),n.e(824)]).then(n.bind(n,9824)).then(i=>i.PractiseModule),canActivate:[l.e]},{path:"person",loadChildren:()=>Promise.all([n.e(382),n.e(592),n.e(205)]).then(n.bind(n,2205)).then(i=>i.PersonModule),canActivate:[l.e]}]}];let U=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[s.Bz.forChild(L)],s.Bz]}),i})(),N=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i,bootstrap:[f]}),i.\u0275inj=e.cJS({imports:[[c.ez,u.m,U]]}),i})()}}]);