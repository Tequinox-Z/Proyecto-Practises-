!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs/BehaviorSubject"),require("rxjs/observable/throw"),require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","rxjs/BehaviorSubject","rxjs/observable/throw","@angular/core"],t):t((e.stanvanheumen=e.stanvanheumen||{},e.stanvanheumen["ngx-storage"]={}),e.Rx,e.Rx.Observable,e.ng.core)}(this,function(e,o,n,t){"use strict";var r=function(){function e(){this.storage="undefined"!=typeof window&&window.hasOwnProperty("localStorage")?window.localStorage:null,this.state={},this.warn=function(e){console&&console.warn&&console.warn(e)},this.isStorageAvailable||this.warn("The local storage is not available on this platform.")}return e.prototype.get=function(e){if(this.state[e])return this.state[e];var t=null;this.isStorageAvailable&&(t=this.storage.getItem(e));var r=null;if(null!==t)try{r=JSON.parse(t)}catch(a){return n._throw(new Error("The raw data cannot be parsed; Invalid data in the storage."))}return this.state[e]=new o.BehaviorSubject(r),this.state[e]},e.prototype.set=function(e,t){var r=JSON.stringify(t);(this.isStorageAvailable&&this.storage.setItem(e,r),this.state[e])&&(JSON.stringify(this.state[e].getValue())!==r&&this.state[e].next(t))},e.prototype.remove=function(e){if(this.isStorageAvailable&&this.storage.removeItem(e),this.state[e]){null!==this.state[e].getValue()&&this.state[e].next(null)}},e.prototype.clear=function(){var t=this;this.isStorageAvailable&&this.storage.clear(),Object.keys(this.state).forEach(function(e){null!==t.state[e].getValue()&&t.state[e].next(null)})},Object.defineProperty(e.prototype,"isStorageAvailable",{get:function(){return!!this.storage},enumerable:!0,configurable:!0}),e}();r.decorators=[{type:t.Injectable}],r.ctorParameters=function(){return[]};var a=function(){};a.decorators=[{type:t.NgModule,args:[{providers:[r]}]}],a.ctorParameters=function(){return[]},e.NgxStorageModule=a,e.StorageService=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=stanvanheumen-ngx-storage.umd.min.js.map
