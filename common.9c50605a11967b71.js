"use strict";(self.webpackChunkPractises_Management=self.webpackChunkPractises_Management||[]).push([[592],{164:(p,c,n)=>{n.d(c,{m:()=>u});var r=n(2340),t=n(1223),h=n(3958),l=n(5295),d=n(520);let u=(()=>{class a{constructor(e,s,i){this.userService=e,this.authService=s,this.http=i}getAllBusiness(){return this.http.get(r.N.serverAddress+"/business/",this.authService.getHeadersToken())}getBusinessByName(e){return this.http.get(r.N.serverAddress+"/location/business/?name="+e,this.authService.getHeadersToken())}getAllLocations(){return this.http.get(r.N.serverAddress+"/location/business/",this.authService.getHeadersToken())}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(h.K),t.LFG(l.e),t.LFG(d.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},9207:(p,c,n)=>{n.d(c,{F:()=>u});var r=n(2340),t=n(1223),h=n(3958),l=n(5295),d=n(520);let u=(()=>{class a{constructor(e,s,i){this.userService=e,this.authService=s,this.http=i}getCenterOfAdministrator(){return this.http.get(r.N.serverAddress+"/administrator/"+this.userService.getDni()+"/school",this.authService.getHeadersToken())}getAllCenters(){return this.http.get(r.N.serverAddress+"/school/",this.authService.getHeadersToken())}getCentersByName(e){return this.http.get(r.N.serverAddress+"/school/?name="+e,this.authService.getHeadersToken())}getAllLocations(){return this.http.get(r.N.serverAddress+"/location/schools",this.authService.getHeadersToken())}createCenter(e){return this.http.post(r.N.serverAddress+"/school",e,this.authService.getHeadersToken())}setLocation(e,s){return this.http.post(r.N.serverAddress+"/school/"+e.id+"/location",s,this.authService.getHeadersToken())}setCurrentAdministrator(e){return this.http.post(r.N.serverAddress+"/administrator/"+this.userService.getDni()+"/school",e,this.authService.getHeadersToken())}briefing(e){return this.http.get(r.N.serverAddress+"/school/"+e.id+"/briefing",this.authService.getHeadersToken())}getUbication(e){return this.http.get(r.N.serverAddress+"/school/"+e.id+"/location",this.authService.getHeadersToken())}updateLocation(e){return this.http.put(r.N.serverAddress+"/school/"+e.id+"/location",e.location,this.authService.getHeadersToken())}updateCenter(e){return this.http.put(r.N.serverAddress+"/school/"+e.id,e,this.authService.getHeadersToken())}getMovementsBySchool(e){return this.http.get(r.N.serverAddress+"/school/"+e.id+"/movement",this.authService.getHeadersToken())}deleteAllMovement(e){return this.http.delete(r.N.serverAddress+"/school/"+e.id+"/movement",this.authService.getHeadersToken())}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(h.K),t.LFG(l.e),t.LFG(d.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},9976:(p,c,n)=>{n.d(c,{Y:()=>a});var r=n(520),t=n(1223),h=n(2340);let l=(()=>{class o{constructor(s){this.http=s}upload(s){const i=new FormData;i.append("file",s);const g=new r.aW("POST",`${h.N.serverFileAddress}/upload`,i,{reportProgress:!0,responseType:"json"});return this.http.request(g)}}return o.\u0275fac=function(s){return new(s||o)(t.LFG(r.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var d=n(9808);function u(o,e){if(1&o&&(t.TgZ(0,"p",4),t._uU(1),t.qZA()),2&o){const s=t.oxw();t.xp6(1),t.hij("",s.progress," %")}}let a=(()=>{class o{constructor(s){this.fileService=s,this.textToShow="",this.fileName=new t.vpe,this.progress=0,this.message=""}ngOnInit(){}selectFile(s){this.selectedFiles=s.target.files,this.upload()}upload(){if(this.progress=0,this.selectedFiles){const s=this.selectedFiles.item(0);s&&(this.currentFile=s,this.fileService.upload(this.currentFile).subscribe({next:i=>{i.type===r.dt.UploadProgress?this.progress=Math.round(100*i.loaded/i.total):i instanceof r.Zn&&(console.log(i),this.fileName.emit(i.body.id))},error:i=>{console.log(i),this.progress=0,this.message=i.error&&i.error.message?i.error.message:"Error al subir",this.currentFile=void 0}})),this.selectedFiles=void 0}}}return o.\u0275fac=function(s){return new(s||o)(t.Y36(l))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-file-upload"]],inputs:{textToShow:"textToShow"},outputs:{fileName:"fileName"},decls:5,vars:2,consts:[[1,"custom-input-file","col-md-6","col-sm-6","col-xs-6"],["type","file","accept",".bmp,.jpg,.png",1,"input-file",3,"change"],["src","assets/img/upload.png"],["id","progress",4,"ngIf"],["id","progress"]],template:function(s,i){1&s&&(t.TgZ(0,"div",0),t.TgZ(1,"input",1),t.NdJ("change",function(v){return i.selectFile(v)}),t.qZA(),t._uU(2),t._UZ(3,"img",2),t.YNc(4,u,2,1,"p",3),t.qZA()),2&s&&(t.xp6(2),t.hij(" ",i.textToShow," "),t.xp6(2),t.Q6J("ngIf",0!=i.progress))},directives:[d.O5],styles:[".custom-input-file[_ngcontent-%COMP%]{background-color:#f6f6f6;cursor:pointer;margin:0 auto;border:1px dashed grey;overflow:hidden;position:relative;text-align:center;width:100%;height:100%}.custom-input-file[_ngcontent-%COMP%]   .input-file[_ngcontent-%COMP%]{border:10000px solid transparent;cursor:pointer;font-size:10000px;margin:0;opacity:0;outline:0 none;padding:0;position:absolute;right:-1000px;top:-1000px}img[_ngcontent-%COMP%]{width:70px;margin-top:20px;animation-duration:2s;animation-name:animate;margin-bottom:20px;animation-iteration-count:infinite}div[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:5px;align-items:center;justify-content:center;padding:20px}@keyframes animate{0%{transform:translateY(0)}50%{transform:translateY(-10px)}to{transform:translateY(0)}}"]}),o})()}}]);