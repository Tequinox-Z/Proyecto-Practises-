"use strict";(self.webpackChunkPractises_Management=self.webpackChunkPractises_Management||[]).push([[548],{7548:(O,l,o)=>{o.r(l),o.d(l,{DashboardModule:()=>A});var m=o(4466),d=o(9808),a=o(8118),v=o(5226),c=o.n(v),e=o(1223),f=o(2290),u=o(5295),h=o(3958),x=o(5282);let b=(()=>{class i{constructor(){this.title="",this.disableNav=!1}getDisableNav(){return this.disableNav}setDisableNav(t){this.disableNav=t}getTitle(){return this.title}setTitle(t){this.title=t}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),C=(()=>{class i{constructor(t,n){this.userService=t,this.auth=n}ngOnInit(){}exitConfirm(){var t;null===(t=document.querySelector("#optionsNav"))||void 0===t||t.classList.add("hidden"),c().fire({title:"\xbfCerrar sesi\xf3n?",text:"Los cambios no guardados se perder\xe1n",icon:"warning",confirmButtonColor:"#3085d6",confirmButtonText:"Cerrar sesi\xf3n"}).then(n=>{n.isConfirmed&&(document.querySelector("html").classList.remove("gray"),document.querySelector("html").classList.remove("highConstrast"),this.userService.setPerson(null),this.auth.logout())})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.K),e.Y36(u.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-menu"]],decls:7,vars:0,consts:[[3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e.TgZ(1,"p"),e._uU(2,"Mi usuario"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Opciones"),e.qZA(),e.TgZ(5,"p",0),e.NdJ("click",function(){return n.exitConfirm()}),e._uU(6,"Salir"),e.qZA(),e.qZA())},styles:["div[_ngcontent-%COMP%]{background-color:#d3d3d3;border-top:1px solid grey;height:100%;width:100%;display:flex;flex-direction:column;flex-wrap:nowrap;align-items:flex-start;animation-name:intro;animation-duration:.5s;transition:.5s}@keyframes intro{0%{opacity:0}to{opacity:1}}p[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center;flex-wrap:nowrap;align-content:center;padding-left:25px;width:100%}p[_ngcontent-%COMP%]:hover{background-color:#ebebeb}"]}),i})();function T(i,r){1&i&&e._UZ(0,"div",12)}function D(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.TgZ(2,"img",4),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return s.showActions=!s.showActions}),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"div",5),e.TgZ(6,"img",6),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return s.menu=!s.menu}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",7),e.YNc(8,T,1,0,"div",8),e.TgZ(9,"div",9),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return s.menu=!1,s.showActions=!1}),e.TgZ(10,"div",10),e.TgZ(11,"router-outlet",11),e.NdJ("notification",function(s){return e.CHM(t),e.oxw().showMessage(s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();let n;e.xp6(4),e.Oqu(t.dashboardService.getTitle()),e.xp6(2),e.s9C("src",t.userService.getPerson()&&null!=(n=t.userService.getPerson())&&n.image?t.userService.getPerson().image:"assets/img/not_image.png",e.LSH),e.hYB("title","",t.userService.getPerson()?t.userService.getPerson().name:""," ",t.userService.getPerson()?t.userService.getPerson().lastName:"",""),e.xp6(2),e.Q6J("ngIf",t.showActions)}}function y(i,r){1&i&&e._UZ(0,"app-menu")}let g=(()=>{class i{constructor(t,n,s,p,M,P,N){this.toastService=t,this.route=n,this.router=s,this.auth=p,this.userService=M,this.displayLoadingService=P,this.dashboardService=N,this.administratorDefaultPage="center/my-center",this.teacherDefaultPage="student/",this.studentDefaultPage="teacher/degrees/viewDegrees",this.showActions=!1,this.menu=!1}ngAfterViewInit(){this.displayLoadingService.setShowDisplayLoading(!1)}ngOnInit(){this.dashboardService.setTitle("Dashboard"),this.userService.getUser().subscribe({next:t=>{switch(this.userService.setPerson(t),t.rol+""){case"ROLE_ADMIN":this.router.navigate([this.administratorDefaultPage],{relativeTo:this.route});break;case"ROLE_STUDENT":this.router.navigate([this.studentDefaultPage],{relativeTo:this.route});break;case"ROLE_TEACHER":case"ROLE_LABOR_TUTOR":this.router.navigate([this.teacherDefaultPage],{relativeTo:this.route});break;default:c().fire({icon:"error",title:"Oops...",text:"Error al cargar rol de usuario"})}},error:t=>{c().fire({icon:"error",title:"Oops...",text:null==t.error.mensaje?"Servidor no disponible":t.error.mensaje})}})}showMessage(t){this.toastService.success("FF","",{progressBar:!0,progressAnimation:"increasing"})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f._W),e.Y36(a.gz),e.Y36(a.F0),e.Y36(u.e),e.Y36(h.K),e.Y36(x.t),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dashboard"]],decls:2,vars:2,consts:[["id","container-main",4,"ngIf"],[4,"ngIf"],["id","container-main"],["id","navigator"],["id","menu","src","assets/img/menu.png",3,"click"],["id","user-zone"],[3,"src","title","click"],["id","view"],["id","menu-zone",4,"ngIf"],["id","content",3,"click"],["id","router"],[3,"notification"],["id","menu-zone"]],template:function(t,n){1&t&&(e.YNc(0,D,12,5,"div",0),e.YNc(1,y,1,0,"app-menu",1)),2&t&&(e.Q6J("ngIf",null!=n.userService.getPerson()),e.xp6(1),e.Q6J("ngIf",n.menu))},directives:[d.O5,a.lC,C],styles:["#container-main{width:100%;height:100vh;overflow:auto}#navigator{position:fixed;top:0;background-color:#d3d3d3;width:100%;height:50px;display:flex;align-items:center;text-align:center;justify-content:center}#router{overflow:hidden;height:calc(100vh - 50px)}#view{width:100%;display:flex;position:relative;top:50px}#content{width:100%;height:calc(100vh - 50px)}.option{width:100%;height:50px}.option-menu{width:70%;display:flex}#router-main{width:calc(100% - 55px)}#menu-zone{background-color:#e6e6e6;width:55px;height:calc(100vh - 50px);z-index:100;overflow:hidden;position:fixed;top:50px;left:0}#user-zone{position:absolute;right:15px;height:50px;display:flex;align-items:center;justify-content:center;text-align:center}#user-zone>img{height:70%;border-radius:50%;width:37px}#menu{position:absolute;left:17px;height:25px}app-menu{position:absolute;top:50px;width:180px;height:max-content;right:0}\n"],encapsulation:2}),i})();var S=o(9269);const w=[{path:"",component:g,children:[{path:"center",loadChildren:()=>o.e(321).then(o.bind(o,4321)).then(i=>i.CenterModule),canActivate:[S.e]}]}];let Z=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[a.Bz.forChild(w)],a.Bz]}),i})(),A=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i,bootstrap:[g]}),i.\u0275inj=e.cJS({imports:[[d.ez,m.m,Z]]}),i})()}}]);