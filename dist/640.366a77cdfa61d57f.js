"use strict";(self.webpackChunkPractises_Management=self.webpackChunkPractises_Management||[]).push([[640],{3630:(x,m,o)=>{o.d(m,{w:()=>f});var l=o(2340),g=o(7206),d=o(1223),t=o(520),p=o(5295),c=o(3958);let f=(()=>{class u{constructor(n,h,_){this.http=n,this.auth=h,this.userService=_,this.idSchool=null}getMyCenter(n){return this.http.get(l.N.serverAddress+"/administrator/"+n+"/school",this.auth.getHeadersToken())}getAllByName(n){return this.http.get(`${l.N.serverAddress}/school?name=${n}`,this.auth.getHeadersToken())}getAll(){return this.http.get(l.N.serverAddress+"/school",this.auth.getHeadersToken())}setCenter(n){let h={dni:this.userService.getDni().toString()};return this.http.post(l.N.serverAddress+"/school/"+n+"/administrator",h,this.auth.getHeadersToken())}getCenter(n){return this.http.get(l.N.serverAddress+"/school/"+n,this.auth.getHeadersToken())}getAdministratorsFromCenter(n){return this.http.get(`${l.N.serverAddress}/school/${n}/administrator`,this.auth.getHeadersToken())}getProfessionalDegreesFromCenter(n){return this.http.get(`${l.N.serverAddress}/school/${n}/professional-degree`,this.auth.getHeadersToken())}newCenter(n){let h={name:n.name,address:n.address,password:g.MD5(n.password+"").toString(),administrators:n.administrators};return this.http.post(l.N.serverAddress+"/school/",h,this.auth.getHeadersToken())}getIdSchool(){return this.idSchool}setIdSchool(n){this.idSchool=n}}return u.\u0275fac=function(n){return new(n||u)(d.LFG(t.eN),d.LFG(p.e),d.LFG(c.K))},u.\u0275prov=d.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},5640:(x,m,o)=>{o.r(m),o.d(m,{DashboardModule:()=>U});var l=o(4466),g=o(9808),Z=o(5226),d=o.n(Z),t=o(1223),p=o(2290),c=o(5358),f=o(5295),u=o(3958),v=o(3630);function n(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"i",30),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).menuToggle()}),t.qZA()}}function h(i,s){1&i&&(t.TgZ(0,"div"),t.TgZ(1,"h3"),t._uU(2,"Centro"),t.qZA(),t.TgZ(3,"a",34),t._UZ(4,"i",35),t._uU(5," Mi centro "),t.qZA(),t.TgZ(6,"a",36),t._UZ(7,"i",37),t._uU(8," Buscar "),t.qZA(),t.TgZ(9,"a",38),t._UZ(10,"i",39),t._uU(11," Nuevo centro "),t.qZA(),t.TgZ(12,"h3"),t._uU(13,"Personas"),t.qZA(),t.TgZ(14,"a",40),t._UZ(15,"i",41),t._uU(16," Registrar persona "),t.qZA(),t.TgZ(17,"a",42),t._UZ(18,"i",43),t._uU(19," Gestionar personas "),t.qZA(),t.qZA())}function _(i,s){1&i&&(t.TgZ(0,"div"),t.TgZ(1,"h3"),t._uU(2,"Empresas"),t.qZA(),t.TgZ(3,"a",44),t._UZ(4,"i",45),t._uU(5," Ver empresas "),t.qZA(),t.TgZ(6,"a",46),t._UZ(7,"i",39),t._uU(8," Nueva empresa "),t.qZA(),t.qZA())}function k(i,s){1&i&&(t.TgZ(0,"div"),t.TgZ(1,"h3"),t._uU(2,"Matr\xedculas"),t.qZA(),t.TgZ(3,"a",47),t._UZ(4,"i",48),t._uU(5," Mis matr\xedculas "),t.qZA(),t.TgZ(6,"h3"),t._uU(7,"Empresas"),t.qZA(),t.TgZ(8,"a",44),t._UZ(9,"i",45),t._uU(10," Ver empresas "),t.qZA(),t.TgZ(11,"a",49),t._UZ(12,"i",45),t._uU(13," Mi empresa "),t.qZA(),t.qZA())}function y(i,s){if(1&i&&(t.TgZ(0,"div",31),t.YNc(1,h,20,0,"div",32),t.YNc(2,_,9,0,"div",32),t.YNc(3,k,14,0,"div",32),t._UZ(4,"a",33),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf","ROLE_ADMIN"==e.rol),t.xp6(1),t.Q6J("ngIf","ROLE_TEACHER"==e.rol||"ROLE_ADMIN"==e.rol),t.xp6(1),t.Q6J("ngIf","ROLE_STUDENT"==e.rol)}}function C(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",16),t.TgZ(1,"div"),t.TgZ(2,"nav"),t.TgZ(3,"h3"),t.YNc(4,n,1,0,"i",17),t.TgZ(5,"p",18),t._uU(6,"Dashboard"),t.qZA(),t.qZA(),t.TgZ(7,"img",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().userToggle()}),t.qZA(),t.TgZ(8,"div",20),t.TgZ(9,"a",21),t.NdJ("click",function(){return t.CHM(e),t.oxw().changeVisiblityOfSettings()}),t._UZ(10,"i",15),t._uU(11," Ajustes "),t.qZA(),t.TgZ(12,"a",22),t.NdJ("click",function(){return t.CHM(e),t.oxw().changeVisiblityOfAccesibility()}),t._UZ(13,"i",23),t._uU(14," Accesibilidad "),t.qZA(),t.TgZ(15,"a",24),t.NdJ("click",function(){return t.CHM(e),t.oxw().exitConfirm()}),t._UZ(16,"i",25),t._uU(17," Cerrar sesi\xf3n "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",26),t.TgZ(19,"div",27),t.NdJ("click",function(){return t.CHM(e),t.oxw().closeMenus()}),t.TgZ(20,"router-outlet",28),t.NdJ("notification",function(a){return t.CHM(e),t.oxw().showMessage(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(21,y,5,3,"div",29),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",null!=e.centerService.getIdSchool()),t.xp6(3),t.s9C("src",e.person.image&&""!=e.person.image?e.person.image:"assets/img/not_image.png",t.LSH),t.hYB("title","",e.person.name?e.person.name:"Sin nombre"," ",e.person.lastName?e.person.lastName:"Sin apellidos ",""),t.xp6(14),t.Q6J("ngIf",null!=e.centerService.getIdSchool())}}let A=(()=>{class i{constructor(e,r,a,T,M,w){this.toastService=e,this.route=r,this.router=a,this.auth=T,this.userService=M,this.centerService=w,this.administratorDefaultPage="administrator/centers/my-center",this.teacherDefaultPage="student/",this.studentDefaultPage="teacher/degrees/viewDegrees"}ngOnInit(){this.userService.getUser().subscribe({next:e=>{var r;switch(this.userService.setDni(e.dni),this.person=e,this.rol=null===(r=e.rol)||void 0===r?void 0:r.toString(),this.rol){case"ROLE_ADMIN":this.centerService.getMyCenter(this.userService.getDni()).subscribe({next:a=>{this.centerService.setIdSchool(a.id)},error:a=>{d().fire({icon:"error",title:"Oops...",text:null==a.error.mensaje?"Servidor no disponible":a.error.mensaje})}}),this.router.navigate([this.administratorDefaultPage],{relativeTo:this.route});break;case"ROLE_STUDENT":this.router.navigate([this.studentDefaultPage],{relativeTo:this.route});break;case"ROLE_TEACHER":this.router.navigate([this.teacherDefaultPage],{relativeTo:this.route})}},error:e=>{d().fire({icon:"error",title:"Oops...",text:null==e.error.mensaje?"Servidor no disponible":e.error.mensaje})}})}menuToggle(){var e,r;null===(e=document.querySelector("#menu"))||void 0===e||e.classList.toggle("close"),null===(r=document.querySelector("#optionsNav"))||void 0===r||r.classList.add("hidden")}userToggle(){var e,r;null===(e=document.querySelector("#optionsNav"))||void 0===e||e.classList.toggle("hidden"),null===(r=document.querySelector("#menu"))||void 0===r||r.classList.add("close")}closeMenus(){var e,r;null===(e=document.querySelector("#menu"))||void 0===e||e.classList.add("close"),null===(r=document.querySelector("#optionsNav"))||void 0===r||r.classList.add("hidden")}exitConfirm(){var e;null===(e=document.querySelector("#optionsNav"))||void 0===e||e.classList.add("hidden"),d().fire({title:"\xbfCerrar sesi\xf3n?",text:"Los cambios no guardados se perder\xe1n",icon:"warning",confirmButtonColor:"#3085d6",confirmButtonText:"Cerrar sesi\xf3n"}).then(r=>{r.isConfirmed&&(document.querySelector("html").classList.remove("gray"),document.querySelector("html").classList.remove("highConstrast"),this.auth.logout())})}changeVisiblityOfAccesibility(){document.querySelector("#accesibility").classList.toggle("noShow")}changeVisiblityOfSettings(){document.querySelector("#settings").classList.toggle("noShow")}changeGray(){document.querySelector("#btn-b").checked=!1,document.querySelector("html").classList.remove("highConstrast"),document.querySelector("html").classList.toggle("gray")}changeConstrast(){document.querySelector("#btn-a").checked=!1,document.querySelector("html").classList.remove("gray"),document.querySelector("html").classList.toggle("highConstrast")}showMessage(e){this.toastService.success("FF","",{progressBar:!0,progressAnimation:"increasing"})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p._W),t.Y36(c.gz),t.Y36(c.F0),t.Y36(f.e),t.Y36(u.K),t.Y36(v.w))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dashboard"]],decls:41,vars:1,consts:[["id","fullContainer",4,"ngIf"],["id","accesibility",1,"noShow"],["id","modal"],["id","close",3,"click"],[1,"fa-solid","fa-xmark"],[1,"fa-solid","fa-universal-access",2,"margin-right","0.5em"],[1,"option"],[1,"titleButton"],[1,"fa-solid","fa-eye-low-vision","c-primary"],[1,"switch"],["id","btn-a","type","checkbox",3,"click"],[1,"slider","round"],[1,"fa-solid","fa-arrow-turn-up","c-primary",2,"margin-left","0.3em","margin-right","0.2em"],["id","btn-b","type","checkbox",3,"click"],["id","settings",1,"noShow"],[1,"fa-solid","fa-gear"],["id","fullContainer"],["id","menuBurguer","class","fa-solid fa-bars",3,"click",4,"ngIf"],["id","title"],["id","user",3,"src","title","click"],["id","optionsNav",1,"hidden"],["alt","Muestra ajustes generales de la aplciaci\xf3n","title","Muestra ajustes generales de la aplciaci\xf3n",3,"click"],["alt","Accesibilidad","title","Accesibilidad",3,"click"],[1,"fa-solid","fa-universal-access"],["id","exit","alt","Salir de la aplicaci\xf3n","title","Salir de la aplicaci\xf3n",3,"click"],[1,"fa-solid","fa-arrow-right-from-bracket"],["id","content"],["id","router",3,"click"],[3,"notification"],["id","menu","class","close",4,"ngIf"],["id","menuBurguer",1,"fa-solid","fa-bars",3,"click"],["id","menu",1,"close"],[4,"ngIf"],["id","last-item"],["title","Mi centro","alt","Mi centro","routerLink","administrator/centers/my-center","routerLinkActive","activated"],[1,"fa-solid","fa-school"],["title","Buscar centros","alt","Buscar centros","routerLink","administrator/centers/find-centers","routerLinkActive","activated"],[1,"fa-solid","fa-magnifying-glass",2,"margin-right","2px"],["title","Nuevo centro","alt","Nuevo centro","routerLink","administrator/centers/new-center","routerLinkActive","activated"],[1,"fa-solid","fa-plus",2,"margin-right","4px"],["title","Registrar persona","alt","Registrar persona","routerLink","administrator/persons/new-person","routerLinkActive","activated"],[1,"fa-solid","fa-user-plus"],["title","Gestionar personas","alt","Gestionar personas","routerLinkActive","activated","routerLink","administrator/persons/management-persons"],[1,"fa-solid","fa-users-gear"],["alt","Ver empresas","title","Ver empresas","routerLinkActive","activated"],[1,"fa-solid","fa-building",2,"margin-right","5px"],["alt","Nueva empresa","title","Nueva empresa","routerLinkActive","activated","routerLink","administrator/business/new-business"],["alt","Mis matr\xedculas","title","Mis matr\xedculas","routerLinkActive","activated"],[1,"fa-solid","fa-chalkboard-user",2,"margin-right","3px"],["alt","Mi empresa","title","Mi empresa","routerLinkActive","activated"]],template:function(e,r){1&e&&(t.YNc(0,C,22,5,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"a",3),t.NdJ("click",function(){return r.changeVisiblityOfAccesibility()}),t._UZ(4,"i",4),t.qZA(),t.TgZ(5,"h3"),t._UZ(6,"i",5),t._uU(7," Accesibilidad "),t.qZA(),t.TgZ(8,"div",6),t.TgZ(9,"p",7),t._UZ(10,"i",8),t._uU(11," Escala de grises "),t.qZA(),t.TgZ(12,"label",9),t.TgZ(13,"input",10),t.NdJ("click",function(){return r.changeGray()}),t.qZA(),t._UZ(14,"span",11),t.qZA(),t.qZA(),t.TgZ(15,"div",6),t.TgZ(16,"p",7),t._UZ(17,"i",12),t._uU(18," Alto contraste "),t.qZA(),t.TgZ(19,"label",9),t.TgZ(20,"input",13),t.NdJ("click",function(){return r.changeConstrast()}),t.qZA(),t._UZ(21,"span",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",14),t.TgZ(23,"div",2),t.TgZ(24,"a",3),t.NdJ("click",function(){return r.changeVisiblityOfSettings()}),t._UZ(25,"i",4),t.qZA(),t.TgZ(26,"h3"),t._UZ(27,"i",15),t._uU(28," Ajustes "),t.qZA(),t.TgZ(29,"div",6),t.TgZ(30,"p",7),t._uU(31,"Nombre"),t.qZA(),t.qZA(),t.TgZ(32,"div",6),t.TgZ(33,"p",7),t._uU(34,"Apellidos"),t.qZA(),t.qZA(),t.TgZ(35,"div",6),t.TgZ(36,"p",7),t._uU(37,"Color de la aplicaci\xf3n"),t.qZA(),t.TgZ(38,"label",9),t.TgZ(39,"input",13),t.NdJ("click",function(){return r.changeConstrast()}),t.qZA(),t._UZ(40,"span",11),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&t.Q6J("ngIf",r.person)},directives:[g.O5,c.lC,c.yS,c.Od],styles:['nav{color:#fff;background-color:#0000007b;padding:7px;font-feature-settings:"pcap";font-variant:petite-caps;padding-left:.7em!important;position:fixed;width:100%;-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px);z-index:1}#menu,h3,#menuBurguer{transition:.5s}#router{margin-left:58px;position:relative;top:3.45em;z-index:0}#content{width:100%;height:100vh;display:block}#menu{top:3.45em;overflow:hidden!important;left:0;width:30%;display:inline-block;position:fixed;height:100vh;background-color:#0000007b;max-width:250px;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}#menuBurguer:hover{transform:rotate(180deg)}.close{left:-12em!important}.close i:hover{transform:rotate3d(1,1,1,5deg)}.activated{color:orange!important}.close h3{display:none!important}#menu i{float:right;position:relative;top:.6em;right:1em}#menu{display:inline-block}#menu:hover{cursor:row-resize}#menu::-webkit-scrollbar{width:0rem}#menu a{color:#ffffffc0;display:block;font-feature-settings:"pcap";font-variant:petite-caps;width:98.9%;height:2.5em;text-align:center;font-size:1em;line-height:2.5em}#menu a:hover{cursor:pointer;border-right:3px solid orange}#menu h3{font-size:1.1em;margin-left:1em;font-feature-settings:"smcp";font-variant:small-caps}h3{padding:.5em;color:#fff}#title{display:inline-block;margin-left:1em}#last-item:hover{cursor:default!important;border-right:none!important}@media (max-width: 840px){#menu{width:100%}}@media (max-width: 250px){.close{left:-20em!important}#router{margin-left:0!important}#optionsNav{width:100%}.hidden{margin-right:-17em!important}}nav>h3{display:inline-block}#user{border-radius:50%;height:2.4em;float:right;position:absolute;right:2em;top:.5em}#optionsNav{transition:.5s;display:inline-block;position:fixed;right:1em;background-color:#0000007b;top:3.45em}#optionsNav>*{display:block;font-size:.9em;color:#fff;text-align:left;margin-right:5px;padding:15px 20px}#optionsNav i{transition:1s}#optionsNav>*:hover{background-color:#0004!important;cursor:pointer;margin-right:0;border-right:5px solid orange}#optionsNav>*:hover i{color:orange;transform:rotate(360deg)}#exit:hover i{color:red!important;transform:rotate(-90deg)!important}#exit:hover{border-color:red!important}.hidden{position:absolute;margin-right:-15em}.gray{filter:grayscale()!important}#accesibility{transition:.5s;word-wrap:break-word;width:100%;height:100vh;top:0;position:fixed;z-index:10;text-align:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:#0000007b}#accesibility #modal{width:70%;background-color:#ffffff29;max-width:40em;position:relative;margin-left:auto;margin-right:auto;top:30vh;padding-bottom:1em}#modal{border:1px solid rgb(124,124,124);transition:.5s}#accesibility h3{text-align:left;color:#fff;padding:1.5em}#close{font-feature-settings:"smcp";font-variant:small-caps;float:right;font-weight:700;width:2em;padding:.5em;transition:.3s;color:#fff}#close:hover{background-color:red}.switch{float:right;margin-right:14%;position:relative;width:60px;height:28px}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#201f68;transition:.4s}.slider:before{position:absolute;content:"";height:20px;width:20px;left:4px;bottom:4px;background-color:#fff;transition:.4s}input:checked+.slider{background-color:#ff004c}input:focus+.slider{box-shadow:0 0 1px #ff004c}input:checked+.slider:before{transform:translate(26px)}.slider.round{border-radius:34px}.slider.round:before{border-radius:50%}.titleButton{float:left;margin-left:14%;color:#fff}@media (max-width: 420px){.titleButton{float:none;margin-left:unset!important;display:block!important}.option{height:4em!important}.switch{position:absolute;float:none;margin:.7em .7em .7em -1.5em}}.option{height:3em;display:block!important}.noShow #modal{transform:rotateX(90deg)}.noShow{visibility:hidden;z-index:-10}.highConstrast{filter:contrast(2)!important}#accesibility.noShow,#settings.noShow{opacity:0}#settings h3{text-align:left;color:#fff;padding:1.5em}#settings #modal{width:70%;background-color:#ffffff29;max-width:40em;position:relative;margin-left:auto;margin-right:auto;top:30vh;padding-bottom:1em}#settings{transition:.5s;word-wrap:break-word;width:100%;height:100vh;top:0;position:fixed;z-index:10;text-align:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:#00000075}\n'],encapsulation:2}),i})();var b=o(9269);const S=[{path:"",component:A,children:[{path:"teacher",loadChildren:()=>o.e(900).then(o.bind(o,3900)).then(i=>i.TeacherFunctionsModule),canActivate:[b.e]},{path:"student",loadChildren:()=>o.e(557).then(o.bind(o,4557)).then(i=>i.StudentFunctionsModule),canActivate:[b.e]},{path:"administrator",loadChildren:()=>Promise.all([o.e(382),o.e(336)]).then(o.bind(o,5336)).then(i=>i.AdministratorFunctionsModule),canActivate:[b.e]}]}];let D=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[c.Bz.forChild(S)],c.Bz]}),i})(),U=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i,bootstrap:[A]}),i.\u0275inj=t.cJS({imports:[[g.ez,l.m,D]]}),i})()}}]);