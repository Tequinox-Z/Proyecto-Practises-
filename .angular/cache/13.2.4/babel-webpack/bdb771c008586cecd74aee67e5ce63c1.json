{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../Services/Auth-service/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../../../shared/Components/Loading/loading.component\";\n\nfunction LoginComponent_img_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 11);\n  }\n}\n\nfunction LoginComponent_img_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 12);\n  }\n}\n\nfunction LoginComponent_app_loading_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading\");\n  }\n}\n\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(auth, router, route) {\n      this.auth = auth;\n      this.router = router;\n      this.route = route;\n      this.model = {\n        \"dni\": \"\",\n        \"password\": \"\"\n      };\n      this.loading = false; // Indica si la pantalla de carga debe mostrarse u ocultarse\n    }\n\n    ngOnInit() {\n      if (this.auth.getToken() != null) {\n        this.router.navigateByUrl('/'); // Si tiene token lo redirigimos a la aplicación\n      }\n    }\n    /**\n     * Inicia sesión\n     */\n\n\n    submit() {\n      this.loading = true; // Mostramos la pantalla de carga\n\n      this.auth.login(this.model).subscribe({\n        next: response => {\n          this.loading = false; // Ocultamos la pantalla de carga\n\n          this.auth.setToken(response.jwt_token + ''); // Establecemos el token\n\n          this.router.navigate(['/']); // Navegamos hasta la aplicación\n        },\n        error: response => {\n          this.loading = false; // En caso de error ocultamos la pantalla de carga\n          // Indicamos el error ocurrido\n\n          Swal.fire({\n            icon: 'error',\n            title: 'Oops...',\n            text: response.error.mensaje == undefined ? 'Servidor no disponible' : response.error.mensaje\n            /*footer: '<a href=\"\">Why do I have this issue?</a>'*/\n\n          });\n        }\n      });\n    }\n\n  }\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 14,\n    vars: 6,\n    consts: [[\"id\", \"container\"], [3, \"ngSubmit\"], [\"login\", \"ngForm\"], [\"pattern\", \"[0-9]{8}[A-Za-z]{1}\", \"name\", \"dni\", \"id\", \"dni\", \"placeholder\", \"Usuario\", \"type\", \"text\", \"required\", \"\", 1, \"text\", 3, \"ngModel\", \"ngModelChange\"], [\"dni\", \"ngModel\"], [\"class\", \"err\", \"title\", \"Indique un dni con formato 8 n\\u00FAmeros y una letra\", \"src\", \"assets/img/err.png\", 4, \"ngIf\"], [\"name\", \"password\", \"id\", \"contrase\\u00F1a\", \"placeholder\", \"Contrase\\u00F1a\", \"type\", \"password\", \"required\", \"\", 1, \"text\", 3, \"ngModel\", \"ngModelChange\"], [\"password\", \"ngModel\"], [\"class\", \"err\", \"title\", \"La contrase\\u00F1a debe de tener m\\u00EDnimo 8 car\\u00E1cteres\", \"src\", \"assets/img/err.png\", 4, \"ngIf\"], [\"id\", \"submit\", \"type\", \"submit\", \"value\", \"Iniciar sesi\\u00F3n\", 3, \"disabled\"], [4, \"ngIf\"], [\"title\", \"Indique un dni con formato 8 n\\u00FAmeros y una letra\", \"src\", \"assets/img/err.png\", 1, \"err\"], [\"title\", \"La contrase\\u00F1a debe de tener m\\u00EDnimo 8 car\\u00E1cteres\", \"src\", \"assets/img/err.png\", 1, \"err\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"form\", 1, 2);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_1_listener() {\n          return ctx.submit();\n        });\n        i0.ɵɵelementStart(3, \"h2\");\n        i0.ɵɵtext(4, \"Iniciar sesi\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\");\n        i0.ɵɵelementStart(6, \"input\", 3, 4);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_6_listener($event) {\n          return ctx.model.dni = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, LoginComponent_img_8_Template, 1, 0, \"img\", 5);\n        i0.ɵɵelementStart(9, \"input\", 6, 7);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.model.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(11, LoginComponent_img_11_Template, 1, 0, \"img\", 8);\n        i0.ɵɵelement(12, \"input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(13, LoginComponent_app_loading_13_Template, 1, 0, \"app-loading\", 10);\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(2);\n\n        const _r1 = i0.ɵɵreference(7);\n\n        const _r3 = i0.ɵɵreference(10);\n\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.model.dni);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", _r1.invalid && _r1.touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.model.password);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", _r3.invalid && _r3.touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", _r0.invalid);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      }\n    },\n    directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.PatternValidator, i3.RequiredValidator, i3.NgControlStatus, i3.NgModel, i4.NgIf, i5.LoadingComponent],\n    styles: [\"#container[_ngcontent-%COMP%]{width:100%;border-bottom:5px solid rgb(255,0,76);height:99.2vh}#container[_ngcontent-%COMP%]:before{content:\\\"\\\";width:100%;height:99.2vh;position:absolute;left:0;background:linear-gradient(0deg,rgba(0,0,0,1) 0%,rgba(132,97,23,0) 39%,rgba(253,187,45,0) 100%);border-bottom:5px solid rgb(255,0,76)}form[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:80%;padding:1.5em;position:absolute;height:max-content;left:0;right:0;top:30vh;background-color:#b6b6b649;max-width:23em;border:1px solid rgba(184,184,184,.404);box-shadow:2px 2px 20px #00000075}form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2em;color:var(--primary);font-weight:200;margin-left:.3em;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif!important;text-shadow:2px 2px 10px black}form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:center;padding-top:.8em}.text[_ngcontent-%COMP%]{background:none;border:none;border-bottom:1px solid rgba(255,255,255,.528);width:80%;margin-left:auto;padding:.5em;margin-top:.7em;margin-right:auto;background-color:none;display:block;transition:.5s;color:#fff}.text[_ngcontent-%COMP%]:hover{border-color:var(--color)}.text[_ngcontent-%COMP%]::placeholder{color:#ffffffa8}.text[_ngcontent-%COMP%]:focus{outline:none}input[type=submit][_ngcontent-%COMP%]{width:85%;margin-top:2em;padding:7px 2px;border:none;font-size:.9em;color:#fff;background-color:#ff1f62;transition:.7s;border-radius:7px;border:1px solid rgb(255,0,76)}input[type=submit][_ngcontent-%COMP%]:hover{text-shadow:none}input[_ngcontent-%COMP%]:disabled{box-shadow:none;background-color:transparent!important;border:none;color:#ffffff9f}#float-bottom[_ngcontent-%COMP%]{background-color:#fff;padding:.3em;display:inline-block;border-radius:50%;position:fixed;left:1em;bottom:1em;width:2em;height:2em;box-shadow:4px 4px 10px #0000002d;transition:1s;animation-name:touchMe;animation-duration:1.5s;animation-iteration-count:infinite}#float-bottom[_ngcontent-%COMP%]:hover{transform:rotate(360deg);width:2.5em;height:2.5em}#google[_ngcontent-%COMP%]{width:100%}.err[_ngcontent-%COMP%]{width:5%;display:inline-block;position:absolute;right:1.2em;margin-top:-23px;transition:1s;animation-name:introErr;animation-duration:1s}@keyframes introErr{0%{width:0;transform:rotate(360deg)}to{width:5%}}form[_ngcontent-%COMP%]{animation-name:flip;animation-duration:1.5s}@keyframes flip{0%{transform:rotateY(40deg)}to{transform:rotateY(0)}}@keyframes touchMe{0%{width:2em;height:2em}50%{width:2.4em;height:2.4em}to{width:2em;height:2em}}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}