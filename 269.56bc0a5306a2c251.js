"use strict";(self.webpackChunkPractises_Management=self.webpackChunkPractises_Management||[]).push([[269],{534:(Ce,m,a)=>{a.r(m),a.d(m,{DegreesModule:()=>ve});var l=a(9808),g=a(1451),T=a(5226),c=a.n(T),d=a(2340),e=a(1223),D=a(8212),M=a(3958),h=a(5295),x=a(520);let u=(()=>{class n{constructor(t,i,r){this.userService=t,this.authService=i,this.http=r}getDegreesByYear(t,i){return this.http.get(d.N.serverAddress+"/school/"+t.id+"/degree?year="+i,this.authService.getHeadersToken())}deleteDegree(t,i){return this.http.delete(d.N.serverAddress+"/school/"+t.id+"/degree/"+i,this.authService.getHeadersToken())}getYears(t){return this.http.get(d.N.serverAddress+"/school/"+t.id+"/degree-years",this.authService.getHeadersToken())}getDegree(t,i){return this.http.get(d.N.serverAddress+"/degree/"+i,this.authService.getHeadersToken())}getByDegreeOnly(t){return this.http.get(d.N.serverAddress+"/degree/"+t,this.authService.getHeadersToken())}updateDegree(t,i){return this.http.put(d.N.serverAddress+"/school/"+t.id+"/degree/"+i.id,i,this.authService.getHeadersToken())}addDegree(t){let i={image:"https://i.pinimg.com/originals/c2/4b/11/c24b1132d7cb060da9738c28a83ec6c4.png"};return i.year=(new Date).getFullYear(),i.name="Nuevo ciclo",this.http.post(d.N.serverAddress+"/school/"+t.id+"/degree",i,this.authService.getHeadersToken())}getBusinessFromDegree(t){return this.http.get(d.N.serverAddress+"/degree/"+t.id+"/business",this.authService.getHeadersToken())}getTeachersFromDegree(t){return this.http.get(d.N.serverAddress+"/degree/"+t.id+"/teacher",this.authService.getHeadersToken())}getStudentsFromDegree(t){return this.http.get(d.N.serverAddress+"/degree/"+t.id+"/enrollment",this.authService.getHeadersToken())}quitFromDegree(t,i){return this.http.delete(d.N.serverAddress+"/degree/"+t.id+"/business/"+i,this.authService.getHeadersToken())}quitTeacherFromDegree(t,i){return this.http.delete(d.N.serverAddress+"/degree/"+t.id+"/teacher/"+i,this.authService.getHeadersToken())}addBusiness(t,i){let r={};return r.cif=i,this.http.post(d.N.serverAddress+"/degree/"+t.id+"/business/",r,this.authService.getHeadersToken())}quitEnrollmentFromDegree(t,i){return this.http.delete(d.N.serverAddress+"/degree/"+t.id+"/enrollment/"+i,this.authService.getHeadersToken())}addTeacherToDegree(t,i){let r={};return r.dni=i,this.http.post(d.N.serverAddress+"/degree/"+t.id+"/teacher/",r,this.authService.getHeadersToken())}addStudentToDegree(t,i){let r={};return r.date=new Date,r.dniStudent=i,this.http.post(d.N.serverAddress+"/degree/"+t.id+"/enrollment/",r,this.authService.getHeadersToken())}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(M.K),e.LFG(h.e),e.LFG(x.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _=a(9207),Z=a(9976);function w(n,o){if(1&n&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function b(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"select",8),e.NdJ("change",function(r){return e.CHM(t),e.oxw().changeYear(r)}),e.YNc(1,w,2,1,"option",9),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.years.years)}}function P(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-file-upload",17),e.NdJ("fileName",function(r){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).changeImage(r,s.id)}),e.qZA()}}function A(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",18),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(2).deleteDegree(r.id)}),e.qZA()}}function S(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).goTo(s.id)}),e._UZ(1,"img",13),e.YNc(2,P,1,0,"app-file-upload",14),e.TgZ(3,"p",15),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).changeName(s.id)}),e._uU(4),e.qZA(),e.YNc(5,A,1,0,"img",16),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.s9C("id",t.id),e.xp6(1),e.s9C("src",t.image,e.LSH),e.xp6(1),e.Q6J("ngIf",i.editMode),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",i.editMode)}}const q=function(n){return{animatedTx:n}};function y(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,S,6,5,"div",11),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,q,t.editMode)),e.xp6(1),e.Q6J("ngForOf",t.degrees)}}function k(n,o){1&n&&(e.TgZ(0,"div",19),e._UZ(1,"img",20),e.TgZ(2,"p"),e._uU(3,"Sin ciclos"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"Aqu\xed se mostrar\xe1n los ciclos de los que dispone su centro"),e.qZA(),e.qZA())}let N=(()=>{class n{constructor(t,i,r,s,p){this.dashboardSrv=t,this.degreeSvr=i,this.centerSvr=r,this.router=s,this.route=p,this.editMode=!1}ngOnInit(){this.dashboardSrv.setTitle("Ciclos"),this.loadDegrees((new Date).getFullYear())}deleteDegree(t){c().fire({title:"\xbfEst\xe1s seguro?",text:"Se borrar\xe1n todas las matriculaciones y pr\xe1cticas",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonText:"Cancelar",confirmButtonText:"Borrar"}).then(i=>{i.isConfirmed&&this.degreeSvr.deleteDegree(this.school,t).subscribe({next:()=>{this.loadDegrees((new Date).getFullYear())}})})}changeYear(t){this.loadDegrees(parseInt(t.target.value))}loadDegrees(t){this.centerSvr.getCenterOfAdministrator().subscribe({next:i=>{this.degreeSvr.getYears(i).subscribe({next:r=>{this.years=r,this.years.years.reverse()}}),this.school=i,this.degreeSvr.getDegreesByYear(i,t.toString()).subscribe({next:r=>{this.degrees=r},error:r=>{c().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}})},error:i=>{c().fire({icon:"error",title:"Oops...",text:i.error.mensaje})}})}addDegree(){this.degreeSvr.addDegree(this.school).subscribe({next:()=>{this.loadDegrees((new Date).getFullYear())}})}changeImage(t,i){this.degreeSvr.getDegree(this.school,i).subscribe({next:r=>{r.image=d.N.serverFileAddress+"/files/"+t,this.degreeSvr.updateDegree(this.school,r).subscribe({next:()=>{this.loadDegrees((new Date).getFullYear())},error:s=>{c().fire({icon:"error",title:"Oops...",text:s.error.mensaje})}})}})}goTo(t){this.editMode||this.router.navigate(["view/"+t],{relativeTo:this.route})}changeName(t){this.editMode&&c().fire({title:"Indique nuevo nombre",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonText:"Cambiar",showLoaderOnConfirm:!0,preConfirm:i=>{0==i.trim().length?this.changeName(t):this.degreeSvr.getDegree(this.school,t).subscribe({next:r=>{r.name=i,this.degreeSvr.updateDegree(this.school,r).subscribe({next:()=>{this.loadDegrees((new Date).getFullYear())},error:s=>{c().fire({icon:"error",title:"Oops...",text:s.error.mensaje})}})}})},allowOutsideClick:()=>!c().isLoading()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D.s),e.Y36(u),e.Y36(_.F),e.Y36(g.F0),e.Y36(g.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-degrees"]],decls:12,vars:4,consts:[["id","mainDiv"],["id","title"],["id","actions"],["src","assets/img/edit.png","id","edit","title","Modo Edici\xf3n","alt","Modo Edici\xf3n",1,"icon-action",3,"click"],["src","assets/img/add-icon.png","title","Nuevo ciclo","alt","Nuevo ciclo",1,"icon-action",3,"click"],["id","yearInput","name","select",3,"change",4,"ngIf"],["id","degrees",3,"ngClass",4,"ngIf"],["id","no-degrees",4,"ngIf"],["id","yearInput","name","select",3,"change"],[4,"ngFor","ngForOf"],["id","degrees",3,"ngClass"],["class","degree",3,"id","click",4,"ngFor","ngForOf"],[1,"degree",3,"id","click"],[3,"src"],["class","fileUp",3,"fileName",4,"ngIf"],[3,"click"],["src","assets/img/delete.png","class","deleteIconDegree",3,"click",4,"ngIf"],[1,"fileUp",3,"fileName"],["src","assets/img/delete.png",1,"deleteIconDegree",3,"click"],["id","no-degrees"],["src","assets/img/no-degrees.png"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p"),e._uU(3,"Ciclos del centro"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.TgZ(6,"div",2),e.TgZ(7,"img",3),e.NdJ("click",function(){return i.editMode=!i.editMode}),e.qZA(),e.TgZ(8,"img",4),e.NdJ("click",function(){return i.addDegree()}),e.qZA(),e.YNc(9,b,2,1,"select",5),e.qZA(),e.qZA(),e.YNc(10,y,2,4,"div",6),e.YNc(11,k,6,0,"div",7),e.qZA()),2&t&&(e.xp6(5),e.hij("Mostrando ciclos del a\xf1o ",i.yearSelected,""),e.xp6(4),e.Q6J("ngIf",i.years&&0!=i.years.years.length),e.xp6(1),e.Q6J("ngIf",i.degrees&&0!=i.degrees.length),e.xp6(1),e.Q6J("ngIf",!i.degrees||0==i.degrees.length))},directives:[l.O5,l.sg,l.mk,Z.Y],styles:["#mainDiv[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}#title[_ngcontent-%COMP%]{margin-top:40px;height:93px;width:100%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:4%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){font-size:20px;font-weight:600}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){opacity:.7}#no-degrees[_ngcontent-%COMP%]{display:flex;height:60%;width:100%;justify-content:center;align-items:center;flex-direction:column}#no-degrees[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:270px;width:80%}#no-degrees[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-size:20px;margin-top:6px;margin-bottom:6px}#no-degrees[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){max-width:300px;opacity:.7;text-align:center;width:90%}.icon-action[_ngcontent-%COMP%]{width:20px}#edit[_ngcontent-%COMP%]{margin-right:13px}#actions[_ngcontent-%COMP%]{position:absolute;top:15px;right:0;margin-right:4%}.deleteIconDegree[_ngcontent-%COMP%]{width:20px;position:absolute;bottom:9px;right:8px;height:max-content!important}#degrees[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}.degree[_ngcontent-%COMP%]{margin:6px;position:relative;border-radius:5px;box-shadow:0 4px 5px #9f9f9f;width:210px;background-color:#f2f2f2;height:135px;display:flex;justify-content:flex-start;padding-top:20px;overflow:hidden;align-items:center;flex-direction:column}#actions[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{position:relative;top:-4px;margin-left:10px}.degree[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:60px}.degree[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:16px}.animatedTx[_ngcontent-%COMP%]   .degree[_ngcontent-%COMP%]{animation-name:miedo;animation-duration:.2s;animation-iteration-count:infinite}@keyframes miedo{0%{transform:rotate(0)}25%{transform:rotate(1deg)}50%{transform:rotate(0)}75%{transform:rotate(-1deg)}to{transform:rotate(0)}}@media (max-width: 400px){#actions[_ngcontent-%COMP%]{position:absolute;bottom:10px;top:unset}}.fileUp[_ngcontent-%COMP%]{position:absolute;top:0;width:150%;height:90px;left:30%;opacity:0}#yearInput[_ngcontent-%COMP%]{width:100px;border:none;height:30px;background-color:#ececec}#title[_ngcontent-%COMP%]{position:relative}"]}),n})(),f=(()=>{class n{constructor(t,i){this.http=t,this.authService=i}getAllStudents(){return this.http.get(d.N.serverAddress+"/student/",this.authService.getHeadersToken())}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(x.eN),e.LFG(h.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var v=a(2864),C=a(2360);function F(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",3),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().select(s.dni)}),e._UZ(1,"img",4),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(1),e.s9C("src",t.image,e.LSH),e.xp6(2),e.Oqu(t.name)}}let O=(()=>{class n{constructor(t){this.studentSrv=t,this.dni=new e.vpe}ngOnInit(){this.studentSrv.getAllStudents().subscribe({next:t=>{this.students=t},error:t=>{console.log(t)}})}select(t){this.dni.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-select-student"]],outputs:{dni:"dni"},decls:5,vars:1,consts:[["id","businessDiv"],["id","businessDivs"],["class","business",3,"click",4,"ngFor","ngForOf"],[1,"business",3,"click"],[3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"p"),e._uU(2,"Seleccione estudiante"),e.qZA(),e.TgZ(3,"div",1),e.YNc(4,F,4,2,"div",2),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngForOf",i.students))},directives:[l.sg],styles:["#businessDiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){font-size:20px;margin-top:29px;margin-left:30px}#businessDiv[_ngcontent-%COMP%]{height:94%}#businessDivs[_ngcontent-%COMP%]{margin-top:10px;height:92%;overflow:auto}.business[_ngcontent-%COMP%]{height:66px;width:100%;display:flex;flex-direction:row;flex-wrap:wrap;align-content:center;align-items:center;transition:.2s;padding-left:12%}.business[_ngcontent-%COMP%]:hover{background-color:#dfdfdf}.business[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){margin-left:20px}.business[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:nth-child(1){width:56px;height:39px}"]}),n})();function B(n,o){if(1&n&&(e.TgZ(0,"div",20),e.TgZ(1,"div",8),e._UZ(2,"img",21),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.qZA()),2&n){const t=o.$implicit;e.xp6(2),e.s9C("src",t.image,e.LSH),e.xp6(2),e.Oqu(t.name)}}function I(n,o){if(1&n&&(e.TgZ(0,"div",20),e.TgZ(1,"div",22),e.TgZ(2,"p",23),e._uU(3),e.qZA(),e.TgZ(4,"p",24),e._uU(5,"Gestionar todas"),e.qZA(),e.qZA(),e._UZ(6,"p"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.Oqu(t.currentDegree&&(null==t.currentDegree.businesses?null:t.currentDegree.businesses.length))}}function Y(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",25),e._UZ(1,"img",26),e.TgZ(2,"p",27),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).viewPractise(s.id)}),e._uU(3),e.qZA(),e.TgZ(4,"img",28),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).quitStudent(s.id)}),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(1),e.s9C("src",null==t.student?null:t.student.image,e.LSH),e.xp6(1),e.hYB("title","",t.student.name," ",t.student.lastName,""),e.xp6(1),e.Oqu(t.student.name)}}function J(n,o){1&n&&(e.TgZ(0,"p",29),e._uU(1,"No hay matriculaciones"),e.qZA())}function U(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",25),e._UZ(1,"img",26),e.TgZ(2,"p",30),e._uU(3),e.qZA(),e.TgZ(4,"img",28),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).quitTeacher(s.dni)}),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(1),e.s9C("src",t.image,e.LSH),e.xp6(1),e.hYB("title","",t.name," ",t.lastName,""),e.xp6(1),e.Oqu(t.name)}}function H(n,o){1&n&&(e.TgZ(0,"p",29),e._uU(1,"No hay profesores"),e.qZA())}function Q(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-select-business",34),e.NdJ("cif",function(r){return e.CHM(t),e.oxw(3).addBusiness(r)}),e.qZA()}}function z(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-select-teacher",35),e.NdJ("dni",function(r){return e.CHM(t),e.oxw(3).addTeacher(r)}),e.qZA()}}function j(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-select-student",35),e.NdJ("dni",function(r){return e.CHM(t),e.oxw(3).addStudent(r)}),e.qZA()}}function E(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).closeAll()}),e.YNc(1,Q,1,0,"app-select-business",32),e.YNc(2,z,1,0,"app-select-teacher",33),e.YNc(3,j,1,0,"app-select-student",33),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.selectBusiness),e.xp6(1),e.Q6J("ngIf",t.selectTeacher),e.xp6(1),e.Q6J("ngIf",t.selectStudent)}}function V(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"p"),e.TgZ(3,"span",3),e._uU(4,"Ciclos del centro > "),e.qZA(),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"p",4),e._uU(7,"Empresas"),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"div",6),e.TgZ(10,"div",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectBusiness=!0}),e.TgZ(11,"div",8),e._UZ(12,"img",9),e.qZA(),e.TgZ(13,"p"),e._uU(14,"+ A\xf1adir"),e.qZA(),e.qZA(),e.YNc(15,B,5,2,"div",10),e.YNc(16,I,7,1,"div",11),e.qZA(),e.TgZ(17,"div",12),e.TgZ(18,"div",13),e.TgZ(19,"p"),e._uU(20,"Alumnos"),e.qZA(),e.YNc(21,Y,5,4,"div",14),e._UZ(22,"img",15),e.YNc(23,J,2,0,"p",16),e.TgZ(24,"p",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectStudent=!0}),e._uU(25,"+ A\xf1adir"),e.qZA(),e.qZA(),e.TgZ(26,"div",13),e.TgZ(27,"p"),e._uU(28,"Profesores"),e.qZA(),e.YNc(29,U,5,4,"div",14),e._UZ(30,"img",18),e.YNc(31,H,2,0,"p",16),e.TgZ(32,"p",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectTeacher=!0}),e._uU(33,"+ A\xf1adir"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(34,E,4,3,"div",19),e.qZA()}if(2&n){const t=e.oxw();e.xp6(5),e.hij(" ",t.currentDegree.name,""),e.xp6(10),e.Q6J("ngForOf",t.currentDegree.businesses.slice(0,5)),e.xp6(1),e.Q6J("ngIf",t.currentDegree&&0!=(null==t.currentDegree.businesses?null:t.currentDegree.businesses.length)),e.xp6(5),e.Q6J("ngForOf",t.currentDegree.enrollments.slice(0,4)),e.xp6(2),e.Q6J("ngIf",t.currentDegree.enrollments&&0==(null==t.currentDegree.enrollments?null:t.currentDegree.enrollments.length)),e.xp6(6),e.Q6J("ngForOf",t.currentDegree.teachers.slice(0,4)),e.xp6(2),e.Q6J("ngIf",t.currentDegree.teachers&&0==(null==t.currentDegree.teachers?null:t.currentDegree.teachers.length)),e.xp6(3),e.Q6J("ngIf",t.selectBusiness||t.selectStudent||t.selectTeacher)}}function $(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",18),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(2).quitBusiness(r.cif)}),e.qZA()}}const G=function(n){return{animatedTx:n}};function X(n,o){if(1&n&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._UZ(2,"img",16),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.YNc(5,$,1,0,"img",17),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("ngClass",e.VKq(4,G,i.editMode)),e.xp6(2),e.s9C("src",t.image,e.LSH),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",i.editMode)}}function W(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-select-business",21),e.NdJ("cif",function(r){return e.CHM(t),e.oxw(3).addBusiness(r)}),e.qZA()}}function K(n,o){if(1&n&&(e.TgZ(0,"div",19),e.YNc(1,W,1,0,"app-select-business",20),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.selectBusiness)}}function R(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"p"),e.TgZ(3,"span",3),e._uU(4,"Ciclos del centro > "),e.qZA(),e.TgZ(5,"span",4),e._uU(6),e.qZA(),e._uU(7," > Empresas"),e.qZA(),e.TgZ(8,"img",5),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return r.editMode=!r.editMode}),e.qZA(),e.qZA(),e.TgZ(9,"p",6),e._uU(10,"Empresas"),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"div",8),e.TgZ(13,"div",9),e.TgZ(14,"div",10),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectBusiness=!0}),e._UZ(15,"img",11),e.qZA(),e.TgZ(16,"p"),e._uU(17,"A\xf1adir"),e.qZA(),e.qZA(),e.YNc(18,X,6,6,"div",12),e.qZA(),e.qZA(),e.YNc(19,K,2,1,"div",13),e.qZA()}if(2&n){const t=e.oxw();e.xp6(6),e.Oqu(t.currentDegree.name),e.xp6(12),e.Q6J("ngForOf",t.currentDegree.businesses),e.xp6(1),e.Q6J("ngIf",t.selectBusiness)}}function te(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",17),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(3).quitTeacher(r.dni)}),e.qZA()}}function ne(n,o){if(1&n&&(e.TgZ(0,"div",14),e._UZ(1,"img",15),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.YNc(6,te,1,0,"img",16),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(3);e.xp6(1),e.s9C("src",t.image,e.LSH),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.lastName),e.xp6(1),e.Q6J("ngIf",i.editMode)}}function ie(n,o){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,ne,7,4,"div",13),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.currentDegree.teachers)}}function re(n,o){1&n&&(e.TgZ(0,"div",18),e._UZ(1,"img",19),e.TgZ(2,"p"),e._uU(3,"No hay profesores asignados"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"Comienze por asignar alguno ahora"),e.qZA(),e.qZA())}function oe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-select-teacher",22),e.NdJ("dni",function(r){return e.CHM(t),e.oxw(3).addTeacher(r)}),e.qZA()}}function se(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",20),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).selectTeacher=!1}),e.YNc(1,oe,1,0,"app-select-teacher",21),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.selectTeacher)}}function ce(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"p"),e.TgZ(3,"span",3),e._uU(4,"Ciclos del centro > "),e.qZA(),e.TgZ(5,"span",4),e._uU(6),e.qZA(),e._uU(7," > Profesores"),e.qZA(),e.TgZ(8,"img",5),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return r.editMode=!r.editMode}),e.qZA(),e.TgZ(9,"img",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectTeacher=!0}),e.qZA(),e.qZA(),e.TgZ(10,"p",7),e._uU(11,"Profesores"),e.qZA(),e.TgZ(12,"div",8),e.YNc(13,ie,2,1,"div",9),e.YNc(14,re,6,0,"div",10),e.qZA(),e.YNc(15,se,2,1,"div",11),e.qZA()}if(2&n){const t=e.oxw();e.xp6(6),e.Oqu(t.currentDegree.name),e.xp6(7),e.Q6J("ngIf",t.currentDegree.teachers&&0!=t.currentDegree.teachers.length),e.xp6(1),e.Q6J("ngIf",t.currentDegree.teachers&&0==t.currentDegree.teachers.length),e.xp6(1),e.Q6J("ngIf",t.selectTeacher)}}function ae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",17),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(3).quitStudent(r.id)}),e.qZA()}}function ge(n,o){if(1&n&&(e.TgZ(0,"div",14),e._UZ(1,"img",15),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.YNc(6,ae,1,0,"img",16),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(3);e.xp6(1),e.s9C("src",null==t.student?null:t.student.image,e.LSH),e.xp6(2),e.Oqu(t.student.name),e.xp6(2),e.Oqu(t.student.lastName),e.xp6(1),e.Q6J("ngIf",i.editMode)}}function le(n,o){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,ge,7,4,"div",13),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.currentDegree.enrollments)}}function pe(n,o){1&n&&(e.TgZ(0,"div",18),e._UZ(1,"img",19),e.TgZ(2,"p"),e._uU(3,"No hay alumnos matriculados"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"Comienze por matricular alguno ahora"),e.qZA(),e.qZA())}function ue(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-select-student",22),e.NdJ("dni",function(r){return e.CHM(t),e.oxw(3).addStudent(r)}),e.qZA()}}function _e(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",20),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).selectStudent=!1}),e.YNc(1,ue,1,0,"app-select-student",21),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.selectStudent)}}function me(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"p"),e.TgZ(3,"span",3),e._uU(4,"Ciclos del centro > "),e.qZA(),e.TgZ(5,"span",4),e._uU(6),e.qZA(),e._uU(7," > Estudiantes"),e.qZA(),e.TgZ(8,"img",5),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return r.editMode=!r.editMode}),e.qZA(),e.TgZ(9,"img",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectStudent=!0}),e.qZA(),e.qZA(),e.TgZ(10,"p",7),e._uU(11,"Estudiantes"),e.qZA(),e.TgZ(12,"div",8),e.YNc(13,le,2,1,"div",9),e.YNc(14,pe,6,0,"div",10),e.qZA(),e.YNc(15,_e,2,1,"div",11),e.qZA()}if(2&n){const t=e.oxw();e.xp6(6),e.Oqu(t.currentDegree.name),e.xp6(7),e.Q6J("ngIf",t.currentDegree.enrollments&&0!=t.currentDegree.enrollments.length),e.xp6(1),e.Q6J("ngIf",t.currentDegree.enrollments&&0==t.currentDegree.enrollments.length),e.xp6(1),e.Q6J("ngIf",t.selectStudent)}}const he=[{path:"",component:N},{path:"view/:idDegree",component:(()=>{class n{constructor(t,i,r,s){this.rutaActiva=t,this.degreeSrv=i,this.router=r,this.studentService=s,this.selectBusiness=!1,this.selectTeacher=!1,this.selectStudent=!1}ngOnInit(){this.loadDegree()}quitTeacher(t){c().fire({title:"\xbfQuitar profesor?",text:"El profesor no podr\xe1 ver el ciclo",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Quitar"}).then(i=>{i.isConfirmed&&this.degreeSrv.quitTeacherFromDegree(this.currentDegree,t).subscribe({next:()=>{this.loadDegree()},error:r=>{c().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}})})}loadDegree(){this.degreeSrv.getByDegreeOnly(this.rutaActiva.snapshot.params.idDegree).subscribe({next:i=>{this.currentDegree=i,this.degreeSrv.getBusinessFromDegree(i).subscribe({next:r=>{this.currentDegree.businesses=r},error:r=>{c().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}}),this.degreeSrv.getTeachersFromDegree(i).subscribe({next:r=>{this.currentDegree.teachers=r},error:r=>{c().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}}),this.degreeSrv.getStudentsFromDegree(i).subscribe({next:r=>{this.currentDegree.enrollments=r},error:r=>{c().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}})},error:()=>{this.router.navigate(["../../degrees"],{relativeTo:this.rutaActiva})}})}quitStudent(t){c().fire({title:"\xbfDesmatricular alumno?",text:"Se borrar\xe1n los datos de sus pr\xe1cticas",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Quitar"}).then(i=>{i.isConfirmed&&this.degreeSrv.quitEnrollmentFromDegree(this.currentDegree,t).subscribe({next:()=>{this.loadDegree()},error:r=>{c().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}})})}addBusiness(t){this.selectBusiness=!1,this.degreeSrv.addBusiness(this.currentDegree,t).subscribe({next:()=>{this.loadDegree()},error:i=>{c().fire({icon:"error",title:"Oops...",text:i.error.mensaje})}})}addTeacher(t){this.selectTeacher=!1,this.degreeSrv.addTeacherToDegree(this.currentDegree,t).subscribe({next:()=>{this.loadDegree()},error:i=>{c().fire({icon:"error",title:"Oops...",text:i.error.mensaje})}})}addStudent(t){this.selectStudent=!1,this.degreeSrv.addStudentToDegree(this.currentDegree,t).subscribe({next:()=>{this.loadDegree()},error:i=>{c().fire({icon:"error",title:"Oops...",text:i.error.mensaje})}})}closeAll(){this.selectBusiness=!1,this.selectStudent=!1,this.selectTeacher=!1}viewPractise(t){this.router.navigateByUrl("/dashboard/practise/view/"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.gz),e.Y36(u),e.Y36(g.F0),e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-degree"]],decls:1,vars:1,consts:[["id","mainDiv",4,"ngIf"],["id","mainDiv"],["id","title"],["id","degreesText","routerLink","../../"],["id","businessTitle"],["id","centerZoneView"],["id","businessZone"],[1,"businessOption",3,"click"],["id","addOptionBusiness",1,"imageOption"],["src","assets/img/add.png","id","addImage"],["class","businessOption",4,"ngFor","ngForOf"],["class","businessOption",4,"ngIf"],["id","peopleZone"],[1,"peopleZoneDiv"],["class","teacherOption",4,"ngFor","ngForOf"],["src","assets/img/view.png","routerLink","./student","alt","Ver todos","title","Ver todos",1,"viewOption"],["class","textNot",4,"ngIf"],[1,"addButton",3,"click"],["src","assets/img/view.png","routerLink","./teacher","alt","Ver todos","title","Ver todos",1,"viewOption"],["id","modal-zone",3,"click",4,"ngIf"],[1,"businessOption"],[1,"imgOption",3,"src"],[1,"imageOption"],["id","numberBusiness"],["routerLink","./business","id","gestAll"],[1,"teacherOption"],[3,"src"],[3,"title","click"],["src","assets/img/delete.png","title","Quitar","alt","Quitar",3,"click"],[1,"textNot"],[3,"title"],["id","modal-zone",3,"click"],["class","selectModal",3,"cif",4,"ngIf"],["class","selectModal",3,"dni",4,"ngIf"],[1,"selectModal",3,"cif"],[1,"selectModal",3,"dni"]],template:function(t,i){1&t&&e.YNc(0,V,35,8,"div",0),2&t&&e.Q6J("ngIf",i.currentDegree&&i.currentDegree.enrollments)},directives:[l.O5,g.rH,l.sg,v.B,C.A,O],styles:["#mainDiv[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}#title[_ngcontent-%COMP%]{margin-top:40px;height:60px;width:100%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:4%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){font-size:20px;font-weight:600}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){opacity:.7}#degreesText[_ngcontent-%COMP%]{opacity:.7}#businessTitle[_ngcontent-%COMP%]{font-size:20px;margin-left:4%}#centerZoneView[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;display:flex;width:100%}.businessOption[_ngcontent-%COMP%]{width:144px;height:150px;display:flex;justify-content:center;align-items:center;flex-direction:column}.imageOption[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-direction:column;justify-content:center;align-items:center;height:60%;width:100%}#addOptionBusiness[_ngcontent-%COMP%]{box-shadow:0 5px 5px #e0e0e0;background-color:#eee}.businessOption[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:10px}#addImage[_ngcontent-%COMP%]{width:40px}#businessZone[_ngcontent-%COMP%]{flex-wrap:wrap;width:100%;gap:30px;display:flex;margin-top:20px;margin-bottom:20px;justify-content:center;align-content:center;padding-left:20px;padding-right:20px}#peopleZone[_ngcontent-%COMP%]{width:100%;display:flex;gap:50px;flex-wrap:wrap;justify-content:center;align-items:center;margin-bottom:40px}.peopleZoneDiv[_ngcontent-%COMP%]{box-shadow:0 5px 5px #c7c7c7;background-color:#eee;width:90%;max-width:295px;height:300px;position:relative}.peopleZoneDiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){margin-top:23px;margin-left:30px;margin-bottom:10px}.peopleZoneDiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){width:100%;text-align:center}#gestAll[_ngcontent-%COMP%]{text-align:center;width:70px;font-weight:600}#numberBusiness[_ngcontent-%COMP%]{margin-bottom:16px;font-size:25px;font-weight:600}.imgOption[_ngcontent-%COMP%]{width:150%}.textNot[_ngcontent-%COMP%]{position:absolute;top:45%;width:100%;text-align:center}.viewOption[_ngcontent-%COMP%]{width:18px;position:absolute;top:25px;right:26px}#gestAll[_ngcontent-%COMP%]{transition:.1s}#gestAll[_ngcontent-%COMP%]:hover{color:#595959}.teacherOption[_ngcontent-%COMP%]{border-bottom:1px solid #d6d6d6;width:90%;height:50px;margin-left:5%;display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;align-items:center}.teacherOption[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(1){height:30px;border-radius:50%;width:30px;margin-left:14px}.teacherOption[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(3){width:18px;position:absolute;right:26px;height:18px}.teacherOption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){margin-left:12px}.selectModal[_ngcontent-%COMP%]{width:90%;background-color:#f2f2f2;height:500px;box-shadow:0 5px 5px gray;max-width:400px}#modal-zone[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;background-color:#00000072;justify-content:center;align-items:center;top:0}#modal-zone[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{transition:1s;animation-name:introSlow;animation-duration:.2s}@keyframes introSlow{0%{opacity:0;transform:scale(.7)}to{transform:scale(1);opacity:1}}.addButton[_ngcontent-%COMP%]{position:absolute;bottom:10px;width:100%;text-align:center}"]}),n})()},{path:"view/:idDegree/business",component:(()=>{class n{constructor(t,i){this.rutaActiva=t,this.degreeSrv=i,this.selectBusiness=!1,this.editMode=!1}ngOnInit(){this.loadDegree()}addBusiness(t){this.selectBusiness=!1,this.degreeSrv.addBusiness(this.currentDegree,t).subscribe({next:()=>{this.loadDegree()},error:i=>{c().fire({icon:"error",title:"Oops...",text:i.error.mensaje})}})}loadDegree(){this.degreeSrv.getByDegreeOnly(this.rutaActiva.snapshot.params.idDegree).subscribe({next:i=>{this.currentDegree=i,this.degreeSrv.getBusinessFromDegree(i).subscribe({next:r=>{this.currentDegree.businesses=r}})}})}quitBusiness(t){c().fire({title:"\xbfQuitar empresa?",text:"Dejar\xe1 de estar disponible para ser elegida",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Quitar"}).then(i=>{i.isConfirmed&&this.degreeSrv.quitFromDegree(this.currentDegree,t).subscribe({next:()=>{this.loadDegree()}})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.gz),e.Y36(u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-degree-business"]],decls:1,vars:1,consts:[["id","mainDiv",4,"ngIf"],["id","mainDiv"],["id","title"],["routerLink","../../../../degrees",1,"degreesText"],["routerLink","../",1,"degreesText"],["src","assets/img/edit.png","id","canDeleteBusiness",3,"click"],["id","businessTitle"],["id","centerZoneView"],["id","businessZone"],[1,"businessOption"],["id","addOptionBusiness",1,"imageOption",3,"click"],["src","assets/img/add.png","id","addImage"],["class","businessOption",3,"ngClass",4,"ngFor","ngForOf"],["id","modal-zone",4,"ngIf"],[1,"businessOption",3,"ngClass"],["id","addOptionBusiness",1,"imageOption"],[1,"imgOption",3,"src"],["src","assets/img/delete.png","class","idDeleteBusiness",3,"click",4,"ngIf"],["src","assets/img/delete.png",1,"idDeleteBusiness",3,"click"],["id","modal-zone"],["class","selectModal",3,"cif",4,"ngIf"],[1,"selectModal",3,"cif"]],template:function(t,i){1&t&&e.YNc(0,R,20,3,"div",0),2&t&&e.Q6J("ngIf",i.currentDegree)},directives:[l.O5,g.rH,l.sg,l.mk,v.B],styles:["#mainDiv[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:4%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){font-size:20px;font-weight:600}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){opacity:.7}.degreesText[_ngcontent-%COMP%]{opacity:.7}#businessTitle[_ngcontent-%COMP%]{font-size:20px;margin-top:30px;margin-left:4%}#centerZoneView[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;display:flex;width:100%}#businessZone[_ngcontent-%COMP%]{flex-wrap:wrap;width:100%;gap:30px;display:flex;margin-top:20px;margin-bottom:20px;justify-content:center;align-content:center;padding-left:20px;padding-right:20px}.businessOption[_ngcontent-%COMP%]{width:144px;height:150px;display:flex;justify-content:center;align-items:center;flex-direction:column}.businessOption[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:10px}#addOptionBusiness[_ngcontent-%COMP%]{box-shadow:0 5px 5px #e0e0e0;background-color:#eee}.imageOption[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-direction:column;justify-content:center;align-items:center;height:60%;width:100%}#title[_ngcontent-%COMP%]{margin-top:40px!important}#addImage[_ngcontent-%COMP%]{width:40px}.idDeleteBusiness[_ngcontent-%COMP%]{width:20px;position:relative;top:10px}#canDeleteBusiness[_ngcontent-%COMP%]{width:20px;position:absolute;right:4%;top:55px}@keyframes miedo{0%{transform:rotate(0)}25%{transform:rotate(1deg)}50%{transform:rotate(0)}75%{transform:rotate(-1deg)}to{transform:rotate(0)}}.animatedTx[_ngcontent-%COMP%]{animation-name:miedo;animation-duration:.2s;animation-iteration-count:infinite}#modal-zone[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;background-color:#00000072;justify-content:center;align-items:center;top:0}#modal-zone[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{transition:1s;animation-name:introSlow;animation-duration:.2s}.selectModal[_ngcontent-%COMP%]{width:90%;background-color:#f2f2f2;height:500px;box-shadow:0 5px 5px gray;max-width:400px}"]}),n})()},{path:"view/:idDegree/teacher",component:(()=>{class n{constructor(t,i,r,s){this.centerSvr=t,this.degreeSrv=i,this.rutaActiva=r,this.router=s,this.selectTeacher=!1,this.editMode=!1}ngOnInit(){this.loadDegree()}loadDegree(){this.degreeSrv.getByDegreeOnly(this.rutaActiva.snapshot.params.idDegree).subscribe({next:i=>{this.currentDegree=i,this.degreeSrv.getTeachersFromDegree(i).subscribe({next:r=>{this.currentDegree.teachers=r},error:r=>{c().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}})},error:()=>{this.router.navigate(["../"],{relativeTo:this.rutaActiva})}})}addTeacher(t){this.selectTeacher=!1,this.degreeSrv.addTeacherToDegree(this.currentDegree,t).subscribe({next:()=>{this.loadDegree()},error:i=>{c().fire({icon:"error",title:"Oops...",text:i.error.mensaje})}})}quitTeacher(t){c().fire({title:"\xbfQuitar profesor?",text:"El profesor no podr\xe1 ver el ciclo",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Quitar"}).then(i=>{i.isConfirmed&&this.degreeSrv.quitTeacherFromDegree(this.currentDegree,t).subscribe({next:()=>{this.loadDegree()},error:r=>{c().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F),e.Y36(u),e.Y36(g.gz),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-degree-teacher"]],decls:1,vars:1,consts:[["id","mainDiv",4,"ngIf"],["id","mainDiv"],["id","title"],["routerLink","../../../../degrees",1,"degreesText"],["routerLink","../",1,"degreesText"],["src","assets/img/edit.png","id","canDeleteBusiness","title","Modo edici\xf3n","alt","Modo edici\xf3n",3,"click"],["src","assets/img/add-icon.png","id","addButton","alt","A\xf1adir nuevo profesor","title","A\xf1adir nuevo profesor",3,"click"],["id","businessTitle"],["id","maxWidthDiv"],["id","zone",4,"ngIf"],["id","noStudentsDiv",4,"ngIf"],["id","modal-zone",3,"click",4,"ngIf"],["id","zone"],["class","listOption",4,"ngFor","ngForOf"],[1,"listOption"],[3,"src"],["class","deleteOption","src","assets/img/delete.png","alt","Quitar","title","Quitar",3,"click",4,"ngIf"],["src","assets/img/delete.png","alt","Quitar","title","Quitar",1,"deleteOption",3,"click"],["id","noStudentsDiv"],["src","assets/img/teacher.png"],["id","modal-zone",3,"click"],["class","selectModal",3,"dni",4,"ngIf"],[1,"selectModal",3,"dni"]],template:function(t,i){1&t&&e.YNc(0,ce,16,4,"div",0),2&t&&e.Q6J("ngIf",i.currentDegree)},directives:[l.O5,g.rH,l.sg,C.A],styles:["#mainDiv[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:4%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){font-size:20px;font-weight:600}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){opacity:.7}.degreesText[_ngcontent-%COMP%]{opacity:.7}#canDeleteBusiness[_ngcontent-%COMP%]{width:20px;position:absolute;right:4%;top:55px}#businessTitle[_ngcontent-%COMP%]{font-size:20px;margin-top:30px;margin-left:4%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){margin-top:40px}#maxWidthDiv[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}#zone[_ngcontent-%COMP%]{width:90%;margin-top:15px;max-width:900px;border:1px solid rgb(189,189,189)}.listOption[_ngcontent-%COMP%]{width:100%;transition:.2s;height:51px;background-color:#eaeaea;display:flex;flex-direction:row;align-content:center;position:relative;align-items:center;border-bottom:1px solid rgb(189,189,189)}.listOption[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}.listOption[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{margin-left:10px;height:75%}.listOption[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){margin-left:20px}.listOption[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(3){margin-left:5px}.deleteOption[_ngcontent-%COMP%]{width:20px;position:absolute;height:max-content!important;right:20px}#addButton[_ngcontent-%COMP%]{width:20px;position:absolute;right:8%;top:55px}.selectModal[_ngcontent-%COMP%]{width:90%;background-color:#f2f2f2;height:500px;box-shadow:0 5px 5px gray;max-width:400px}#modal-zone[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;background-color:#00000072;justify-content:center;align-items:center;top:0}#noStudentsDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;align-items:center}#noStudentsDiv[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:nth-child(1){width:90%;margin-top:20%;max-width:250px}#noStudentsDiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){font-size:20px;margin-top:10px}#noStudentsDiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(3){opacity:.7}#modal-zone[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{transition:1s;animation-name:introSlow;animation-duration:.2s}@keyframes introSlow{0%{opacity:0;transform:scale(.7)}to{transform:scale(1);opacity:1}}"]}),n})()},{path:"view/:idDegree/student",component:(()=>{class n{constructor(t,i,r,s){this.centerSvr=t,this.degreeSrv=i,this.rutaActiva=r,this.router=s,this.selectStudent=!1,this.editMode=!1}ngOnInit(){this.loadDegree()}loadDegree(){this.degreeSrv.getByDegreeOnly(this.rutaActiva.snapshot.params.idDegree).subscribe({next:i=>{this.currentDegree=i,this.degreeSrv.getStudentsFromDegree(i).subscribe({next:r=>{this.currentDegree.enrollments=r},error:r=>{c().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}})},error:()=>{this.router.navigate(["../"],{relativeTo:this.rutaActiva})}})}addStudent(t){this.selectStudent=!1,this.degreeSrv.addStudentToDegree(this.currentDegree,t).subscribe({next:()=>{this.loadDegree()},error:i=>{c().fire({icon:"error",title:"Oops...",text:i.error.mensaje})}})}quitStudent(t){c().fire({title:"\xbfQuitar estudiante?",text:"El estudiante ser\xe1 desmatriculado del ciclo y se borrar\xe1n sus pr\xe1cticas",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Quitar"}).then(i=>{i.isConfirmed&&this.degreeSrv.quitEnrollmentFromDegree(this.currentDegree,t).subscribe({next:()=>{this.loadDegree()},error:r=>{c().fire({icon:"error",title:"Oops...",text:r.error.mensaje})}})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F),e.Y36(u),e.Y36(g.gz),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-degree-student"]],decls:1,vars:1,consts:[["id","mainDiv",4,"ngIf"],["id","mainDiv"],["id","title"],["routerLink","../../../../degrees",1,"degreesText"],["routerLink","../",1,"degreesText"],["src","assets/img/edit.png","id","canDeleteBusiness","title","Modo edici\xf3n","alt","Modo edici\xf3n",3,"click"],["src","assets/img/add-icon.png","id","addButton","alt","A\xf1adir nuevo profesor","title","A\xf1adir nuevo profesor",3,"click"],["id","businessTitle"],["id","maxWidthDiv"],["id","zone",4,"ngIf"],["id","noStudentsDiv",4,"ngIf"],["id","modal-zone",3,"click",4,"ngIf"],["id","zone"],["class","listOption",4,"ngFor","ngForOf"],[1,"listOption"],[3,"src"],["class","deleteOption","src","assets/img/delete.png","alt","Quitar","title","Quitar",3,"click",4,"ngIf"],["src","assets/img/delete.png","alt","Quitar","title","Quitar",1,"deleteOption",3,"click"],["id","noStudentsDiv"],["src","assets/img/students.png"],["id","modal-zone",3,"click"],["class","selectModal",3,"dni",4,"ngIf"],[1,"selectModal",3,"dni"]],template:function(t,i){1&t&&e.YNc(0,me,16,4,"div",0),2&t&&e.Q6J("ngIf",i.currentDegree)},directives:[l.O5,g.rH,l.sg,O],styles:["#mainDiv[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:4%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){font-size:20px;font-weight:600}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){opacity:.7}.degreesText[_ngcontent-%COMP%]{opacity:.7}#canDeleteBusiness[_ngcontent-%COMP%]{width:20px;position:absolute;right:4%;top:55px}#businessTitle[_ngcontent-%COMP%]{font-size:20px;margin-top:30px;margin-left:4%}#title[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){margin-top:40px}#maxWidthDiv[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}#zone[_ngcontent-%COMP%]{width:90%;margin-top:15px;max-width:900px;border:1px solid rgb(189,189,189)}.listOption[_ngcontent-%COMP%]{width:100%;transition:.2s;height:51px;background-color:#eaeaea;display:flex;flex-direction:row;align-content:center;position:relative;align-items:center;border-bottom:1px solid rgb(189,189,189)}.listOption[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}.listOption[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{margin-left:10px;height:75%}.listOption[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){margin-left:20px}.listOption[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(3){margin-left:5px}.deleteOption[_ngcontent-%COMP%]{width:20px;position:absolute;height:max-content!important;right:20px}#addButton[_ngcontent-%COMP%]{width:20px;position:absolute;right:4%;margin-right:30px;top:55px}.selectModal[_ngcontent-%COMP%]{width:90%;background-color:#f2f2f2;height:500px;box-shadow:0 5px 5px gray;max-width:400px}#modal-zone[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;background-color:#00000072;justify-content:center;align-items:center;top:0}#noStudentsDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;align-items:center}#noStudentsDiv[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:nth-child(1){width:90%;margin-top:20%;max-width:250px}#noStudentsDiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){font-size:20px;margin-top:10px}#noStudentsDiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(3){opacity:.7}#modal-zone[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{transition:1s;animation-name:introSlow;animation-duration:.2s}@keyframes introSlow{0%{opacity:0;transform:scale(.7)}to{transform:scale(1);opacity:1}}"]}),n})()}];let xe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.Bz.forChild(he)],g.Bz]}),n})();var fe=a(4466);let ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[l.ez,xe,fe.m]]}),n})()}}]);